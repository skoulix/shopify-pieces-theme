{%- comment -%}
  Pieces Hero Component

  Usage:
  {% render 'pieces-hero',
    title: section.settings.title,
    subtitle: section.settings.subtitle,
    cta_text: section.settings.cta_text,
    cta_link: section.settings.cta_link,
    image: section.settings.image,
    video: section.settings.video,
    height: section.settings.height,
    parallax: section.settings.enable_parallax
  %}
{%- endcomment -%}

{%- liquid
  assign height_class = 'min-h-[60vh]'
  if height == 'full'
    assign height_class = 'min-h-screen'
  elsif height == 'large'
    assign height_class = 'min-h-[80vh]'
  elsif height == 'medium'
    assign height_class = 'min-h-[60vh]'
  elsif height == 'small'
    assign height_class = 'min-h-[40vh]'
  endif
-%}

<c-hero
  class="relative flex items-center justify-center overflow-hidden {{ height_class }}"
  {% if parallax %}data-parallax="0.3"{% endif %}
>
  {%- comment -%} Background Media {%- endcomment -%}
  {%- if video != blank -%}
    <video
      data-hero-video
      class="absolute inset-0 w-full h-full object-cover"
      autoplay
      muted
      loop
      playsinline
    >
      <source src="{{ video }}" type="video/mp4">
    </video>
  {%- elsif image != blank -%}
    <div data-hero-image class="absolute inset-0">
      {{ image | image_url: width: 2000 | image_tag:
        class: 'w-full h-full object-cover',
        loading: 'eager',
        fetchpriority: 'high'
      }}
    </div>
  {%- endif -%}

  {%- comment -%} Overlay {%- endcomment -%}
  <div class="absolute inset-0 bg-black/30"></div>

  {%- comment -%} Content {%- endcomment -%}
  <div class="relative z-10 text-center text-white px-6 max-w-4xl mx-auto">
    {%- if title != blank -%}
      <h1
        data-hero-title
        data-split-text="chars"
        class="text-4xl md:text-6xl lg:text-7xl font-heading font-bold mb-6"
      >
        {{ title }}
      </h1>
    {%- endif -%}

    {%- if subtitle != blank -%}
      <p
        data-hero-subtitle
        class="text-lg md:text-xl lg:text-2xl mb-8 opacity-90"
      >
        {{ subtitle }}
      </p>
    {%- endif -%}

    {%- if cta_text != blank and cta_link != blank -%}
      <c-magnetic data-strength="0.2">
        <a
          data-hero-cta
          href="{{ cta_link }}"
          class="inline-block px-8 py-4 bg-white text-black font-medium hover:bg-opacity-90 transition-all duration-300"
        >
          {{ cta_text }}
        </a>
      </c-magnetic>
    {%- endif -%}
  </div>
</c-hero>
