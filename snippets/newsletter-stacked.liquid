{%- comment -%}
  Newsletter Design 2: Stacked
  Title on top, form below (left aligned)
{%- endcomment -%}

<div class="py-16 sm:py-24 lg:py-32" style="background-color: {{ background_color }}; color: {{ text_color }};">
  <div class="page-container">
    {% if title != blank %}
      <h2 class="max-w-2xl text-balance text-3xl font-semibold tracking-tight sm:text-4xl font-heading">
        {{ title }}
      </h2>
    {% endif %}
    {% if text != blank %}
      <p class="mt-4 max-w-xl text-base opacity-70">{{ text }}</p>
    {% endif %}
    {% form 'customer', class: 'mt-10 max-w-md' %}
      <div class="flex gap-x-4">
        <label for="newsletter-email-stacked" class="sr-only">{{ 'customers.register.email' | t }}</label>
        <input
          id="newsletter-email-stacked"
          type="email"
          name="contact[email]"
          required
          placeholder="{{ 'customers.register.email' | t }}"
          autocomplete="email"
          class="min-w-0 flex-auto rounded-md px-3.5 py-2.5 text-sm border border-current/20 placeholder:opacity-70 focus:outline-none focus:border-current/50 transition-colors"
          style="background-color: transparent; color: inherit;"
        >
        <input type="hidden" name="contact[tags]" value="newsletter">
        <button type="submit" class="flex-none rounded-md px-4 py-2.5 text-sm font-semibold transition-opacity hover:opacity-80" style="background-color: {{ text_color }}; color: {{ background_color }};">
          {{ button_text | default: 'Subscribe' }}
        </button>
      </div>
      {% if privacy_link != blank %}
        <p class="mt-4 text-sm opacity-70">
          {{ privacy_text }} <a href="{{ privacy_link }}" class="font-semibold underline hover:no-underline">{{ privacy_link_text }}</a>.
        </p>
      {% endif %}
      {% if form.posted_successfully? %}
        <p class="mt-4 text-sm text-green-600">{{ 'general.newsletter.success' | t }}</p>
      {% endif %}
      {% if form.errors %}
        <p class="mt-4 text-sm text-red-500">{{ form.errors.messages['email'] }}</p>
      {% endif %}
    {% endform %}
  </div>
</div>
