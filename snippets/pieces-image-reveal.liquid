{%- comment -%}
  Pieces Image Reveal Component

  Creates elegant image reveal animations on scroll.

  Usage:
  {% render 'pieces-image-reveal',
    image: section.settings.image,
    direction: 'up',
    duration: 1.2,
    alt: 'Image description',
    aspect_ratio: '3/4'
  %}

  Direction options: up, down, left, right
{%- endcomment -%}

{%- liquid
  assign direction = direction | default: 'up'
  assign duration = duration | default: 1.2
  assign start = start | default: 'top 85%'
  assign aspect_ratio = aspect_ratio | default: '16/9'
  assign alt = alt | default: image.alt | default: ''
-%}

<c-image-reveal
  class="relative block overflow-hidden"
  style="aspect-ratio: {{ aspect_ratio }};"
  data-direction="{{ direction }}"
  data-duration="{{ duration }}"
  data-start="{{ start }}"
>
  {%- if image != blank -%}
    {{ image | image_url: width: 1600 | image_tag:
      class: 'w-full h-full object-cover',
      alt: alt,
      loading: 'lazy',
      widths: '400, 800, 1200, 1600',
      sizes: '(min-width: 1200px) 50vw, 100vw'
    }}
  {%- else -%}
    {{ 'image' | placeholder_svg_tag: 'w-full h-full object-cover bg-gray-100' }}
  {%- endif -%}
</c-image-reveal>
