{%- comment -%}
  Article Card - Tailwind Version
  Renders an article card for blogs

  Accepts:
  - blog: {Object} Blog object
  - article: {Object} Article object
  - show_image: {Boolean} Show article image (default: true)
  - show_date: {Boolean} Show publish date (default: true)
  - show_author: {Boolean} Show author (default: false)
  - show_excerpt: {Boolean} Show excerpt (default: true)
  - placeholder_image: {String} Placeholder image name

  Usage:
  {% render 'article-card', article: article, show_image: true %}
{%- endcomment -%}

{%- if article and article != empty -%}
  <article class="group h-full">
    <a href="{{ article.url }}" class="block h-full">
      {%- comment -%} Image {%- endcomment -%}
      {%- if show_image != false -%}
        <div class="relative aspect-[3/2] mb-4 rounded-xl overflow-hidden bg-neutral-100">
          {%- if article.image -%}
            {{
              article.image
              | image_url: width: 800
              | image_tag:
                class: 'w-full h-full object-cover transition-transform duration-500 group-hover:scale-105',
                loading: 'lazy',
                widths: '400, 600, 800'
            }}
          {%- else -%}
            <div class="w-full h-full flex items-center justify-center text-neutral-300">
              {%- render 'icon', name: 'article', size: '48' -%}
            </div>
          {%- endif -%}
        </div>
      {%- endif -%}

      {%- comment -%} Content {%- endcomment -%}
      <div class="space-y-2">
        {%- comment -%} Meta {%- endcomment -%}
        {%- if show_date or show_author -%}
          <div class="flex items-center gap-2 text-sm text-neutral-500">
            {%- if show_date -%}
              <time datetime="{{ article.published_at | date: '%Y-%m-%d' }}">
                {{ article.published_at | date: format: 'abbreviated_date' }}
              </time>
            {%- endif -%}
            {%- if show_date and show_author -%}
              <span>Â·</span>
            {%- endif -%}
            {%- if show_author -%}
              <span>{{ article.author }}</span>
            {%- endif -%}
          </div>
        {%- endif -%}

        {%- comment -%} Title {%- endcomment -%}
        <h3 class="text-lg font-medium text-neutral-900 group-hover:text-neutral-600 transition-colors line-clamp-2">
          {{ article.title | escape }}
        </h3>

        {%- comment -%} Excerpt {%- endcomment -%}
        {%- if show_excerpt -%}
          {%- if article.excerpt.size > 0 or article.content.size > 0 -%}
            <p class="text-sm text-neutral-600 line-clamp-2">
              {%- if article.excerpt.size > 0 -%}
                {{ article.excerpt | strip_html | truncatewords: 20 }}
              {%- else -%}
                {{ article.content | strip_html | truncatewords: 20 }}
              {%- endif -%}
            </p>
          {%- endif -%}
        {%- endif -%}

        {%- comment -%} Read More {%- endcomment -%}
        <span class="inline-flex items-center gap-1 text-sm font-medium text-neutral-900 group-hover:gap-2 transition-all">
          {{ 'blogs.article.read_more' | t }}
          {%- render 'icon', name: 'arrow-right', size: '14' -%}
        </span>
      </div>
    </a>
  </article>
{%- elsif placeholder_image -%}
  {%- comment -%} Placeholder card {%- endcomment -%}
  <article class="h-full">
    <div class="relative aspect-[3/2] mb-4 rounded-xl overflow-hidden bg-neutral-100">
      {{ placeholder_image | placeholder_svg_tag: 'w-full h-full object-cover text-neutral-300' }}
    </div>
    <div class="space-y-2">
      <div class="text-sm text-neutral-500">
        {{ 'now' | date: format: 'abbreviated_date' }}
      </div>
      <h3 class="text-lg font-medium text-neutral-900">
        {{ 'sections.featured_blog.onboarding_title' | t }}
      </h3>
      <p class="text-sm text-neutral-600 line-clamp-2">
        {{ 'sections.featured_blog.onboarding_content' | t }}
      </p>
    </div>
  </article>
{%- endif -%}
