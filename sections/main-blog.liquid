{%- comment -%}
  Main Blog Section - Tailwind Version
  Blog listing page with article grid and pagination
{%- endcomment -%}

{%- paginate blog.articles by 9 -%}
  <section class="py-12 lg:py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      {%- comment -%} Header {%- endcomment -%}
      <div class="mb-8 lg:mb-12">
        <h1 class="text-3xl lg:text-4xl font-semibold text-neutral-900">
          {{ blog.title | escape }}
        </h1>
        {%- if blog.articles_count > 0 -%}
          <p class="mt-2 text-neutral-600">
            {{ 'blogs.article.articles_count' | t: count: blog.articles_count }}
          </p>
        {%- endif -%}
      </div>

      {%- comment -%} Articles Grid {%- endcomment -%}
      {%- if blog.articles_count > 0 -%}
        <div class="grid gap-6 lg:gap-8 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3">
          {%- for article in blog.articles -%}
            <div>
              {%- render 'article-card',
                article: article,
                show_image: section.settings.show_image,
                show_date: section.settings.show_date,
                show_author: section.settings.show_author,
                show_excerpt: true
              -%}
            </div>
          {%- endfor -%}
        </div>

        {%- comment -%} Pagination {%- endcomment -%}
        {%- if paginate.pages > 1 -%}
          <nav class="mt-12 flex items-center justify-center gap-2" aria-label="{{ 'general.pagination.label' | t }}">
            {%- if paginate.previous -%}
              <a
                href="{{ paginate.previous.url }}"
                class="inline-flex items-center justify-center w-10 h-10 rounded-lg border border-neutral-300 text-neutral-600 hover:bg-neutral-50 transition-colors"
                aria-label="{{ 'general.pagination.previous' | t }}"
              >
                {%- render 'icon', name: 'caret-left', size: '16' -%}
              </a>
            {%- endif -%}

            {%- for part in paginate.parts -%}
              {%- if part.is_link -%}
                <a
                  href="{{ part.url }}"
                  class="inline-flex items-center justify-center w-10 h-10 rounded-lg text-sm font-medium text-neutral-600 hover:bg-neutral-100 transition-colors"
                >
                  {{ part.title }}
                </a>
              {%- elsif part.title == paginate.current_page -%}
                <span
                  class="inline-flex items-center justify-center w-10 h-10 rounded-lg text-sm font-medium bg-neutral-900 text-white"
                  aria-current="page"
                >
                  {{ part.title }}
                </span>
              {%- else -%}
                <span class="inline-flex items-center justify-center w-10 h-10 text-neutral-400">
                  {{ part.title }}
                </span>
              {%- endif -%}
            {%- endfor -%}

            {%- if paginate.next -%}
              <a
                href="{{ paginate.next.url }}"
                class="inline-flex items-center justify-center w-10 h-10 rounded-lg border border-neutral-300 text-neutral-600 hover:bg-neutral-50 transition-colors"
                aria-label="{{ 'general.pagination.next' | t }}"
              >
                {%- render 'icon', name: 'caret-right', size: '16' -%}
              </a>
            {%- endif -%}
          </nav>
        {%- endif -%}
      {%- else -%}
        <div class="text-center py-12">
          <p class="text-neutral-600">{{ 'blogs.article.no_articles' | t }}</p>
        </div>
      {%- endif -%}
    </div>
  </section>
{%- endpaginate -%}

{% schema %}
{
  "name": "t:sections.main-blog.name",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "checkbox",
      "id": "show_image",
      "default": true,
      "label": "t:sections.main-blog.settings.show_image.label"
    },
    {
      "type": "checkbox",
      "id": "show_date",
      "default": true,
      "label": "t:sections.main-blog.settings.show_date.label"
    },
    {
      "type": "checkbox",
      "id": "show_author",
      "default": false,
      "label": "t:sections.main-blog.settings.show_author.label"
    }
  ]
}
{% endschema %}
