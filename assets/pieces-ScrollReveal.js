import{P as a}from"./pieces-Piece.js";import{g as e,S as i}from"./pieces-app.js";e.registerPlugin(i);class r extends a{constructor(){super("ScrollReveal",{stylesheets:[]}),this.scrollTrigger=null}mount(){this.animationType=this.dataset.animation||"fade-up",this.duration=parseFloat(this.dataset.duration)||.8,this.delay=parseFloat(this.dataset.delay)||0,this.start=this.dataset.start||"top 85%",this.stagger=parseFloat(this.dataset.stagger)||0,this.setInitialState(),this.createScrollTrigger()}unmount(){this.scrollTrigger&&(this.scrollTrigger.kill(),this.scrollTrigger=null)}setInitialState(){const t={fade:{opacity:0},"fade-up":{opacity:0,y:50},"fade-down":{opacity:0,y:-50},"fade-left":{opacity:0,x:50},"fade-right":{opacity:0,x:-50},scale:{opacity:0,scale:.9},"scale-up":{opacity:0,scale:.8,y:30},clip:{clipPath:"inset(0 100% 0 0)"},"clip-up":{clipPath:"inset(100% 0 0 0)"},"clip-down":{clipPath:"inset(0 0 100% 0)"}},s=t[this.animationType]||t.fade;this.stagger>0?e.set(this.children,s):e.set(this,s)}createScrollTrigger(){this.scrollTrigger=i.create({trigger:this,start:this.start,once:!0,onEnter:()=>this.animate()})}animate(){const t={opacity:1,x:0,y:0,scale:1,clipPath:"inset(0 0% 0 0)",duration:this.duration,delay:this.delay,ease:"power2.out"};this.stagger>0?e.to(this.children,{...t,stagger:this.stagger}):e.to(this,t)}reset(){this.scrollTrigger&&this.scrollTrigger.kill(),this.setInitialState(),this.createScrollTrigger()}}customElements.define("c-scroll-reveal",r);export{r as default};
//# sourceMappingURL=pieces-ScrollReveal.js.map
