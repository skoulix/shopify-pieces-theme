import{g as m,S,a as _,F as B}from"./pieces-gsap.js";import{L as V}from"./pieces-lenis.js";import{e as ht,l as F,s as pt,h as Y,_ as mt,a as ft,i as wt,b as gt,o as yt,r as vt}from"./pieces-swup.js";function nt(r){typeof r=="string"&&(r=r.replace(/[^\d.-]/g,""),r.includes(".")?r=Math.round(parseFloat(r)*100):r=parseInt(r,10)),r=r||0;const t=window.themeSettings?.moneyFormat||"${{amount}}",e=r/100,i=Math.floor(e),n=e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),s=e.toLocaleString("de-DE",{minimumFractionDigits:2,maximumFractionDigits:2}),o=i.toLocaleString("de-DE"),a=e.toLocaleString("de-CH",{minimumFractionDigits:2,maximumFractionDigits:2}),c=e.toLocaleString("fr-FR",{minimumFractionDigits:2,maximumFractionDigits:2}),l=i.toLocaleString("fr-FR");return t.replace("{{amount_with_comma_separator}}",s).replace("{{amount_no_decimals_with_comma_separator}}",o).replace("{{amount_with_apostrophe_separator}}",a).replace("{{amount_no_decimals_with_space_separator}}",l).replace("{{amount_with_space_separator}}",c).replace("{{amount_no_decimals}}",i.toLocaleString("en-US")).replace("{{amount}}",n)}typeof window<"u"&&(window.pieces=window.pieces||{},window.pieces.formatMoney=nt);m.registerPlugin(S);class bt{constructor(){this.lenis=null,this.isInitialized=!1}init(){return this.isInitialized?this.lenis:(this.lenis=new V({duration:1.2,easing:t=>Math.min(1,1.001-Math.pow(2,-10*t)),orientation:"vertical",gestureOrientation:"vertical",smoothWheel:!0,wheelMultiplier:1,touchMultiplier:2,infinite:!1,prevent:t=>t.closest(".cart-drawer__content")||t.closest(".mobile-nav__content")||t.closest("[data-lenis-prevent]")}),this.lenis.on("scroll",S.update),m.ticker.add(t=>{this.lenis.raf(t*1e3)}),m.ticker.lagSmoothing(0),document.documentElement.classList.add("lenis"),this.isInitialized=!0,this.lenis)}scrollTo(t,e={}){if(!this.lenis)return;const i={offset:0,duration:1.2,easing:n=>Math.min(1,1.001-Math.pow(2,-10*n)),immediate:!1,lock:!1,onComplete:null};this.lenis.scrollTo(t,{...i,...e})}stop(){this.lenis&&this.lenis.stop()}start(){this.lenis&&this.lenis.start()}resize(){this.lenis&&this.lenis.resize()}destroy(){this.lenis&&(this.lenis.destroy(),this.lenis=null,this.isInitialized=!1,document.documentElement.classList.remove("lenis"))}get scroll(){return this.lenis?.scroll||0}get progress(){return this.lenis?.progress||0}get isScrolling(){return this.lenis?.isScrolling||!1}}const T=new bt;function L(){return L=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},L.apply(null,arguments)}window.process||(window.process={}),window.process.env||(window.process.env={});const st=["test"].includes("production"),y=["development","test"].includes("production"),rt=(r,t,e)=>r==null?r:`\x1B[${t}m${String(r)}\x1B[${e}m`,O=r=>st?r:`ðŸ§© ${(t=>rt(t,1,22))(r)}`,v=r=>st?r:(t=>rt(t,94,39))(r);class St{log(...t){const e=t.shift();console.log(O(e),...t)}warn(...t){const e=t.shift();console.warn(O(e),...t)}error(...t){const e=t.shift();console.error(O(e),...t)}logIf(t,...e){t&&this.log(...e)}warnIf(t,...e){t&&this.warn(...e)}errorIf(t,...e){t&&this.error(...e)}}const at=r=>{(function({parsedRules:t,swup:e,logger:i}){const n=e.getCurrentUrl();t.filter(s=>s.matchesFrom(n)||s.matchesTo(n)).forEach(s=>{s.containers.forEach(o=>{const a=I(`${o}:not([data-swup-fragment])`,e);if(!a)return;const c=a.getAttribute("data-swup-fragment-url");c&&y&&i?.log(`fragment url ${v(c)} for ${v(o)} provided by server`);const{url:l}=F.fromUrl(c||n);a.setAttribute("data-swup-fragment",""),a.__swupFragment={url:l,selector:o}})})})(r),(function({logger:t,swup:e}){const i="data-swup-link-to-fragment";document.querySelectorAll(`a[${i}]`).forEach(n=>{var s,o;const a=(s=n.getAttribute(i))==null?void 0:s.trim();if(!a)return void(y&&(t==null||t.warn(`[${i}] needs to contain a valid fragment selector`)));const c=a.trim().split(",").map(d=>d.trim()),l=(function(d,f){const h=d.map(p=>p.trim());for(const p of h){const w=I(p,f);if(w)return w}})(c,e);if(!l){if(y){const d=c.length>1?"are":"is",f=v(c.join(", "));t?.log(`ignoring ${v(`[${i}="${a}"]`)} as ${f} ${d} missing`)}return}const u=(o=l.__swupFragment)==null?void 0:o.url;u?(j(u,e.getCurrentUrl())&&y&&t?.warn(`The fragment URL of #${l.id} is identical to the current URL. This could mean that [data-swup-fragment-url] needs to be provided by the server.`),n.href=u):y&&t?.warn(`no fragment infos found on #${l.id}`)})})(r),(function({logger:t}){document.querySelectorAll("dialog[data-swup-fragment][open]").forEach(e=>{e.__swupFragment?e.__swupFragment.modalShown||(e.__swupFragment.modalShown=!0,e.removeAttribute("open"),e.showModal==null||e.showModal(),e.addEventListener("keydown",i=>i.key==="Escape"&&i.preventDefault())):y&&t?.warn("fragment properties missing on element:",e)})})(r)},U=(r,t)=>{var e;const i=(e=r.__swupFragment)==null?void 0:e.url;return!!i&&j(i,t)},j=(r,t)=>Q(r)===Q(t),Q=r=>{if(!r.trim())return r;const t=F.fromUrl(r);return t.searchParams.sort(),t.pathname.replace(/\/+$/g,"")+t.search},ot=r=>{const t=r.from.url,e=r.to.url;if(t&&e)return{from:t,to:e}},W=(r,t)=>{if(r==null||!r.name)return;const{name:e,containers:i}=r;i.forEach(n=>{var s;(s=document.querySelector(n))==null||s.classList.toggle(`to-${e}`,t)})},lt=(r,t,e)=>t.find(i=>i.matches(r,e));function ct(r){return!!r&&r.containers.every(t=>{var e;return((e=document.querySelector(t))==null||(e=e.tagName)==null?void 0:e.toLowerCase())==="template"})}function I(r,t){for(const e of t.options.containers){const i=document.querySelector(e);if(i!=null&&i.matches(r))return i;const n=i?.querySelector(r);if(n)return n}}function X(r){if(!Array.isArray(r))throw new Error("cloneRules() expects an array of rules");return r.map(t=>L({},t,{from:Array.isArray(t.from)?[...t.from]:t.from,to:Array.isArray(t.to)?[...t.to]:t.to,containers:[...t.containers]}))}class xt{constructor(t){var e,i;this.matchesFrom=void 0,this.matchesTo=void 0,this.swup=void 0,this.from=void 0,this.to=void 0,this.containers=void 0,this.name=void 0,this.scroll=!1,this.focus=void 0,this.logger=void 0,this.if=()=>!0,this.swup=t.swup,this.logger=t.logger,this.from=t.from||"",this.to=t.to||"",t.name&&(this.name=pt(t.name)),t.scroll!==void 0&&(this.scroll=t.scroll),t.focus!==void 0&&(this.focus=t.focus),typeof t.if=="function"&&(this.if=t.if),this.containers=this.parseContainers(t.containers),y&&((e=this.logger)==null||e.errorIf(!this.to,"Every fragment rule must contain a 'to' path",this),(i=this.logger)==null||i.errorIf(!this.from,"Every fragment rule must contain a 'from' path",this)),this.matchesFrom=Y(this.from),this.matchesTo=Y(this.to)}parseContainers(t){var e,i;return Array.isArray(t)&&t.length?(i=t.map(n=>n.trim()),[...new Set(i)]).filter(n=>{var s;const o=this.validateSelector(n);return(s=this.logger)==null||s.errorIf(o instanceof Error,o),o===!0}):(y&&((e=this.logger)==null||e.error("Every fragment rule must contain an array of containers",this.getDebugInfo())),[])}validateSelector(t){return t.startsWith("#")?!t.match(/\s|>/)||new Error(`fragment selectors must not be nested: ${t}`):new Error(`fragment selectors must be IDs: ${t}`)}getDebugInfo(){const{from:t,to:e,containers:i}=this;return{from:String(t),to:String(e),containers:String(i)}}matches(t,e){var i;if(!this.if(e))return y&&((i=this.logger)==null||i.log("ignoring fragment rule due to custom rule.if:",this)),!1;const{url:n}=F.fromUrl(t.from),{url:s}=F.fromUrl(t.to);if(!this.matchesFrom(n)||!this.matchesTo(s))return!1;for(const a of this.containers){const c=this.validateFragmentSelectorForMatch(a);var o;if(c instanceof Error)return y&&((o=this.logger)==null||o.error(c,this.getDebugInfo())),!1}return!0}validateFragmentSelectorForMatch(t){return document.querySelector(t)?!!I(t,this.swup)||new Error(`skipping rule since ${v(t)} is outside of swup's default containers`):new Error(`skipping rule since ${v(t)} doesn't exist in the current document`)}}const Et=function(r){const t=ot(r);t&&lt(t,this.parsedRules,r)&&(r.scroll.reset=!1)},Ct=async function(r){const t=ot(r);if(!t)return;const e=this.getFragmentVisit(t,r);if(!e)return;var i;r.fragmentVisit=e,y&&((i=this.logger)==null||i.log(`fragment visit: ${v(r.fragmentVisit.containers.join(", "))}`)),r.scroll=(function(o,a){return typeof o.scroll=="boolean"?L({},a,{reset:o.scroll}):typeof o.scroll!="string"||a.target?a:L({},a,{target:o.scroll})})(e,r.scroll);const n=r.a11y;var s;e.focus!==void 0&&(y&&((s=this.logger)==null||s.errorIf(!n,"Can't set visit.a11y.focus. Is @swup/a11y-plugin installed?")),n&&(n.focus=e.focus)),r.animation.scope=r.fragmentVisit.containers,r.containers=r.fragmentVisit.containers,r.animation.selector=r.fragmentVisit.containers.join(","),W(e,!0)},Tt=function(r,t){var e,i;r.fragmentVisit&&ct(r.fragmentVisit)&&(y&&((e=this.logger)==null||e.log(`${v("out")}-animation skipped for ${v((i=r.fragmentVisit)==null?void 0:i.containers.toString())}`)),t.skip=!0)},At=function(r,t){var e,i;r.fragmentVisit&&ct(r.fragmentVisit)&&(y&&((e=this.logger)==null||e.log(`${v("in")}-animation skipped for ${v((i=r.fragmentVisit)==null?void 0:i.containers.toString())}`)),t.skip=!0)},qt=function(r,t){var e;if(r.trigger.el||!r.to.url)return;const i=this.swup.cache.get(r.to.url);i&&i.fragmentHtml&&(r.to.document=new DOMParser().parseFromString(i.fragmentHtml,"text/html"),r.to.html=i.fragmentHtml,y&&((e=this.logger)==null||e.log(`fragment cache used for ${v(r.to.url)}`)))},Lt=function(r){W(r.fragmentVisit,!0),at(this),(({swup:t,logger:e})=>{const i=t.getCurrentUrl(),n=t.cache,s=n.get(i);if(!s)return;const o=new DOMParser().parseFromString(s.html,"text/html"),a=[],c=Array.from(document.querySelectorAll("[data-swup-fragment]")).filter(l=>!l.matches("template")&&!U(l,i));c.length&&(t.options.cache?(c.forEach(l=>{var u,d;if(l.querySelector("[data-swup-fragment]")!=null)return;const f=(u=l.__swupFragment)==null?void 0:u.url;if(!f)return void(y&&(e==null||e.warn("no fragment url found:",l)));const h=(d=l.__swupFragment)==null?void 0:d.selector;if(!h)return void(y&&(e==null||e.warn("no fragment selector found:",l)));const p=n.get(f);if(!p)return;const w=o.querySelector(h);if(!w)return;const x=new DOMParser().parseFromString(p.html,"text/html").querySelector(h);x&&(x.setAttribute("data-swup-fragment-url",f),w.replaceWith(x),a.push(l))}),a.length&&(n.update(i,{fragmentHtml:o.documentElement.outerHTML}),a.forEach(l=>{var u,d;const f=((u=l.__swupFragment)==null?void 0:u.url)||"",h=((d=l.__swupFragment)==null?void 0:d.selector)||"";y&&e?.log(`updated cache with ${v(h)} from ${v(f)}`)}))):y&&e?.warn("can't cache foreign fragment elements without swup's cache"))})(this)},Mt=function(r){W(r.fragmentVisit,!1)};class Pt extends ht{get parsedRules(){return this._parsedRules}constructor(t){super(),this.name="SwupFragmentPlugin",this.requires={swup:">=4.6"},this._rawRules=[],this._parsedRules=[],this.options=void 0,this.defaults={rules:[],debug:!1},this.logger=void 0,this.options=L({},this.defaults,t)}mount(){const t=this.swup;var e;this.setRules(this.options.rules),y&&this.options.debug&&(this.logger=new St),this.before("link:self",Et),this.on("visit:start",Ct),this.before("animation:out:await",Tt),this.before("animation:in:await",At),this.before("content:replace",qt),this.on("content:replace",Lt),this.on("visit:end",Mt),y&&((e=this.logger)==null||e.warnIf(!t.options.cache,"fragment caching will only work with swup's cache being active")),at(this)}unmount(){super.unmount(),document.querySelectorAll("[data-swup-fragment]").forEach(t=>{t.removeAttribute("data-swup-fragment-url"),delete t.__swupFragment})}setRules(t){var e;this._rawRules=X(t),this._parsedRules=t.map(i=>this.parseRule(i)),y&&((e=this.logger)==null||e.log("Updated fragment rules",this.getRules()))}getRules(){return X(this._rawRules)}prependRule(t){this.setRules([t,...this.getRules()])}appendRule(t){this.setRules([...this.getRules(),t])}parseRule(t){return new xt(L({},t,{logger:this.logger,swup:this.swup}))}getFragmentVisit(t,e){const i=lt(t,this.parsedRules,e||this.swup.createVisit(t));if(!i)return;const n=((c,l,u,d)=>{let f=l.map(p=>{const w=document.querySelector(p);return w?I(p,u)?{selector:p,el:w}:(y&&d?.error(`${v(p)} is outside of swup's default containers`),!1):(y&&d?.log(`${v(p)} missing in current document`),!1)}).filter(p=>!!p);const h=f.every(p=>U(p.el,c.to));return j(c.from,c.to)||h&&u.options.linkToSelf==="navigate"||(f=f.filter(p=>!U(p.el,c.to)||(y&&d?.log(`ignoring fragment ${v(p.selector)} as it already matches the current URL`),!1))),f.map(p=>p.selector)})(t,i.containers,this.swup,this.logger);if(!n.length)return;const{name:s,scroll:o,focus:a}=i;return{containers:n,name:s,scroll:o,focus:a}}}function k(){return k=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},k.apply(this,arguments)}const J=r=>String(r).split(".").map(t=>String(parseInt(t||"0",10))).concat(["0","0"]).slice(0,3).join(".");class _t{constructor(){this.isSwupPlugin=!0,this.swup=void 0,this.version=void 0,this.requires={},this.handlersToUnregister=[]}mount(){}unmount(){this.handlersToUnregister.forEach(t=>t()),this.handlersToUnregister=[]}_beforeMount(){if(!this.name)throw new Error("You must define a name of plugin when creating a class.")}_afterUnmount(){}_checkRequirements(){return typeof this.requires!="object"||Object.entries(this.requires).forEach(([t,e])=>{if(!(function(i,n,s){const o=(function(a,c){var l;if(a==="swup")return(l=c.version)!=null?l:"";{var u;const d=c.findPlugin(a);return(u=d?.version)!=null?u:""}})(i,s);return!!o&&((a,c)=>c.every(l=>{const[,u,d]=l.match(/^([\D]+)?(.*)$/)||[];var f,h;return((p,w)=>{const x={"":b=>b===0,">":b=>b>0,">=":b=>b>=0,"<":b=>b<0,"<=":b=>b<=0};return(x[w]||x[""])(p)})((h=d,f=J(f=a),h=J(h),f.localeCompare(h,void 0,{numeric:!0})),u||">=")}))(o,n)})(t,e=Array.isArray(e)?e:[e],this.swup)){const i=`${t} ${e.join(", ")}`;throw new Error(`Plugin version mismatch: ${this.name} requires ${i}`)}}),!0}on(t,e,i={}){var n;e=!(n=e).name.startsWith("bound ")||n.hasOwnProperty("prototype")?e.bind(this):e;const s=this.swup.hooks.on(t,e,i);return this.handlersToUnregister.push(s),s}once(t,e,i={}){return this.on(t,e,k({},i,{once:!0}))}before(t,e,i={}){return this.on(t,e,k({},i,{before:!0}))}replace(t,e,i={}){return this.on(t,e,k({},i,{replace:!0}))}off(t,e){return this.swup.hooks.off(t,e)}}class kt extends _t{constructor(...t){super(...t),this.name="SwupGtmPlugin"}mount(){this.on("page:view",this.trackPageview)}trackPageview(){if(typeof window.dataLayer!="object")return void console.warn("GTM is not loaded on the page");const t=window.location.pathname+window.location.search,e=document.title;window.dataLayer.push({event:"VirtualPageview",virtualPageURL:t,virtualPageTitle:e}),this.swup.log(`GTM page view: ${t}`)}}m.registerPlugin(S);class $t{constructor(){this.swup=null,this.isInitialized=!1,this.pageTransitionDuration=.6,this.skipAnimation=!1,this.transitionStyle=window.themeSettings?.pageTransitionStyle||"slide"}init(){if(this.isInitialized)return this.swup;if(window.Shopify&&window.Shopify.designMode)return null;window.addEventListener("error",e=>{if(e.message&&e.message.includes("Cannot assign to read only property 'protect'"))return window.Shopify?.designMode&&console.warn("Swup: Suppressed Shopify protection script error (expected)"),e.preventDefault(),!0});const t=[{from:"(.*)",to:"(.*)",out:async e=>{await this.animateOut(),e()},in:async e=>{await this.animateIn(),e()}}];return this.swup=new mt({containers:["#swup-container"],cache:!0,animateHistoryBrowsing:!0,linkSelector:'a[href^="'+window.location.origin+'"]:not([data-no-swup]):not([href*="#"]), a[href^="/"]:not([data-no-swup]):not([href^="//"]):not([href^="#"]):not([href*="#"])',plugins:[new Pt({rules:[{from:"/search(.*)",to:"/search(.*)",containers:["#search-results-fragment","#search-filters-fragment","#search-subtitle-fragment"],name:"search-filters"}]}),new ft(t),new wt({persistAssets:!0,persistTags:'link[rel="stylesheet"], style, script[src]'}),new gt({preloadVisibleLinks:!1,preloadHoveredLinks:!0}),new yt,new vt({head:!1,body:!0}),new kt]}),this.setupEventListeners(),this.swup.hooks.replace("animation:out:await",(e,i,n)=>{if(!e.fragmentVisit)return n(e,i)}),this.swup.hooks.replace("animation:in:await",(e,i,n)=>{if(e.fragmentVisit){this.animateFragmentElements(e.fragmentVisit.containers);return}return n(e,i)}),this.isInitialized=!0,this.swup}setupEventListeners(){this.swup.hooks.on("visit:start",t=>{t.fragmentVisit||(document.documentElement.classList.add("is-changing"),document.documentElement.classList.add("scroll-locked"),T.stop(),t.to.url.includes("/cart")&&this.swup.cache.delete(t.to.url))}),this.swup.hooks.on("content:replace",t=>{if(t.fragmentVisit){requestAnimationFrame(()=>{S.refresh()});return}S.getAll().forEach(i=>i.kill()),this.reinitializeComponents();const e=document.querySelector("main");e&&(e.setAttribute("tabindex","-1"),e.focus({preventScroll:!0}),this.announcePageChange()),requestAnimationFrame(()=>{T.resize(),S.refresh()})}),this.swup.hooks.on("visit:end",()=>{document.documentElement.classList.remove("is-changing"),document.documentElement.classList.remove("scroll-locked"),T.start(),window.dispatchEvent(new CustomEvent("swup:transitionEnd"))}),this.swup.hooks.on("page:view",()=>{window.dispatchEvent(new CustomEvent("swup:pageview",{detail:{url:window.location.href}}))})}animateFragmentElements(t){t.forEach(e=>{const i=document.querySelector(e);if(!i)return;const n=i.querySelectorAll("[data-tween]");n.length>0&&m.killTweensOf(n),m.killTweensOf(i),n.length>0?n.forEach((s,o)=>{const a=s.dataset.tweenType||"fade-up";a==="clip-right"?m.fromTo(s,{clipPath:"inset(0 100% 0 0)"},{clipPath:"inset(0 0% 0 0)",duration:1.2,delay:o*.08,ease:"expo.inOut"}):a==="clip-up"?m.fromTo(s,{clipPath:"inset(100% 0 0 0)"},{clipPath:"inset(0% 0 0 0)",duration:1,delay:o*.08,ease:"power3.out"}):m.fromTo(s,{opacity:0,y:20},{opacity:1,y:0,duration:.4,delay:o*.05,ease:"power2.out"})}):m.fromTo(i,{opacity:0},{opacity:1,duration:.3,ease:"power2.out"})})}async animateOut(){if(this.skipAnimation)return Promise.resolve();const t=document.querySelector("#swup-container"),e=document.querySelector(".page-transition-overlay"),i=m.timeline();switch(this.transitionStyle){case"fade":i.to(t,{opacity:0,duration:.4,ease:"power2.inOut"});break;case"slide":i.to(t,{y:-40,opacity:0,duration:.25,ease:"power2.in"});break;default:e&&(m.set(e,{transformOrigin:"bottom",scaleY:0}),i.to(e,{scaleY:1,duration:.4,ease:"power3.inOut"})),i.to(t,{y:-40,opacity:0,duration:.25,ease:"power2.in"},.1);break}return i}async animateIn(){T.scrollTo(0,{immediate:!0});const t=document.querySelector("#swup-container"),e=document.querySelector(".page-transition-overlay");if(this.skipAnimation)return this.skipAnimation=!1,m.set(t,{opacity:1,y:0,x:0}),e&&m.set(e,{scaleY:0,scaleX:0}),Promise.resolve();const i=m.timeline();switch(this.transitionStyle){case"fade":m.set(t,{opacity:0,x:0,y:0}),i.to(t,{opacity:1,duration:.4,ease:"power2.inOut"}),i.add(()=>{this.animateRevealElements()},.1);break;case"slide":m.set(t,{opacity:0,y:40,x:0}),i.to(t,{y:0,opacity:1,duration:.3,ease:"power2.out"}),i.add(()=>{this.animateRevealElements()},.1);break;default:m.set(t,{opacity:0,x:0,y:40}),e&&(m.set(e,{transformOrigin:"top",scaleY:1}),i.to(e,{scaleY:0,duration:.5,ease:"power3.inOut"})),i.to(t,{y:0,opacity:1,duration:.3,ease:"power2.out"},.2),i.add(()=>{this.animateRevealElements()},.3);break}return i}animateRevealElements(){document.querySelectorAll("[data-reveal]").forEach((e,i)=>{const n=e.dataset.revealDelay||i*.1;e.dataset.reveal,m.to(e,{opacity:1,x:0,y:0,scale:1,clipPath:"inset(0 0% 0 0)",duration:.8,delay:n,ease:"power2.out"})})}announcePageChange(){let t=document.getElementById("swup-announce");t||(t=document.createElement("div"),t.id="swup-announce",t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-atomic","true"),t.className="sr-only",document.body.appendChild(t));const e=document.title||"Page loaded";t.textContent="",setTimeout(()=>{t.textContent=e},100)}reinitializeComponents(){window.dispatchEvent(new CustomEvent("swup:contentReplaced")),window.Shopify&&window.Shopify.PaymentButton&&window.Shopify.PaymentButton.init(),document.querySelectorAll("details-disclosure, details-modal").forEach(t=>{t.connectedCallback&&t.connectedCallback()})}navigateTo(t,e=!1){this.swup?(this.skipAnimation=e,this.swup.navigate(t)):window.location.href=t}updateUrl(t,e=!1){e?window.history.replaceState({swupPreview:!0},"",t):window.history.pushState({swupPreview:!0},"",t)}goBack(){window.history.back()}clearCache(t){if(!this.swup||!this.swup.cache)return;const e=Array.isArray(t)?t:[t];this.swup.cache.all.forEach((i,n)=>{e.some(s=>n.includes(s))&&this.swup.cache.delete(n)})}clearAllCache(){this.swup&&this.swup.cache&&this.swup.cache.clear()}destroy(){this.swup&&(this.swup.destroy(),this.swup=null,this.isInitialized=!1)}}const N=new $t;m.registerPlugin(S,_);class Ft{constructor(){this.scrollTriggers=[],this.splitInstances=[],this.initialized=!1}getScrollStart(t="top 80%"){if(typeof window.getScrollStart=="function")return window.getScrollStart(t);const e=window.themeSettings?.animationTriggerOffset||"md",i={none:t,sm:"top 90%",md:"top 80%",lg:"top 70%"};return i[e]||i.md}shouldAnimate(){if(typeof window.shouldAnimate=="function")return window.shouldAnimate();const t=window.matchMedia("(prefers-reduced-motion: reduce)").matches,e=window.themeSettings?.enableAnimations!==!1;return!t&&e}getAnimationConfig(t){const e={fade:{initial:{opacity:0},animate:{opacity:1},duration:.6,ease:"power2.out"},"fade-up":{initial:{opacity:0,y:30},animate:{opacity:1,y:0},duration:.6,ease:"power2.out"},"fade-down":{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},duration:.6,ease:"power2.out"},"fade-left":{initial:{opacity:0,x:30},animate:{opacity:1,x:0},duration:.6,ease:"power2.out"},"fade-right":{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},duration:.6,ease:"power2.out"},"split-text":{duration:1.2,ease:"power4.out",stagger:.05},"clip-right":{initial:{clipPath:"inset(0 100% 0 0)"},animate:{clipPath:"inset(0 0% 0 0)"},duration:1.6,ease:"expo.inOut"},"clip-up":{initial:{clipPath:"inset(100% 0 0 0)"},animate:{clipPath:"inset(0% 0 0 0)"},duration:1.2,ease:"power3.out"},"clip-down":{initial:{clipPath:"inset(0 0 100% 0)"},animate:{clipPath:"inset(0 0 0% 0)"},duration:1.2,ease:"power3.out"},scale:{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},duration:.8,ease:"power2.out"},"scale-up":{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},duration:.8,ease:"back.out(1.7)"},"scale-x":{initial:{scaleX:0,transformOrigin:"left center"},animate:{scaleX:1},duration:.8,ease:"power3.out"},"text-reveal":{initial:{yPercent:120},animate:{yPercent:0},duration:.8,ease:"power4.out"}};return e[t]||e["fade-up"]}initSplitText(t,e,i){const n=parseFloat(t.dataset.tweenDuration)||1.2,s=parseFloat(t.dataset.tweenStagger)||.05,o=t.dataset.tweenEase||"power4.out",a=new _(t,{type:"lines",linesClass:"tween-split-line"});return a.lines.forEach(c=>{const l=document.createElement("div");l.style.overflow="hidden",l.style.display="block",l.style.paddingBottom="0.25em",l.style.marginBottom="-0.25em",c.parentNode.insertBefore(l,c),l.appendChild(c)}),m.set(a.lines,{yPercent:120}),e.add(()=>{t.style.opacity="1"},i),e.to(a.lines,{yPercent:0,duration:n,ease:o,stagger:s},i),this.splitInstances.push(a),a}initTweenElement(t,e,i){const n=t.dataset.tweenType||"fade-up",s=this.getAnimationConfig(n),o=parseFloat(t.dataset.tweenDuration)||s.duration,a=t.dataset.tweenEase||s.ease;n==="split-text"?this.initSplitText(t,e,i):(m.set(t,s.initial),e.to(t,{...s.animate,duration:o,ease:a},i))}initTweenGroup(t){t.dataset.tweenGroup;const e=t.querySelectorAll("[data-tween]");if(e.length===0)return;const i=t.dataset.tweenStart||this.getScrollStart(),n=parseFloat(t.dataset.tweenStagger)||.08,s=t.getBoundingClientRect(),o=s.top<window.innerHeight&&s.bottom>0;e.forEach(u=>{const d=u.dataset.tweenType||"fade-up";if(d!=="split-text"){const f=this.getAnimationConfig(d);m.set(u,f.initial)}});const a=o?{delay:.05}:{scrollTrigger:{trigger:t,start:i,once:!0}},c=m.timeline(a);let l=0;e.forEach((u,d)=>{const f=u.dataset.tweenType||"fade-up",h=parseFloat(u.dataset.tweenDelay)||0;this.getAnimationConfig(f);const p=d===0?h:l+h;this.initTweenElement(u,c,p),l=p+(f==="split-text"?.3:n)}),c.scrollTrigger&&this.scrollTriggers.push(c.scrollTrigger)}initStandaloneTweens(){const t=document.querySelectorAll("[data-tween]:not([data-tween-initialized])"),e=this.getScrollStart();t.forEach(i=>{if(i.closest("[data-tween-group]")||!i.isConnected)return;const n=window.getComputedStyle(i);if(n.display==="none"||n.visibility==="hidden")return;const s=i.dataset.tweenType||"fade-up",o=parseFloat(i.dataset.tweenDelay)||0,a=this.getAnimationConfig(s),c=parseFloat(i.dataset.tweenDuration)||a.duration,l=i.dataset.tweenEase||a.ease,u=i.dataset.tweenStart||e;if(i.dataset.tweenInitialized="true",s==="split-text"){const d=m.timeline({scrollTrigger:{trigger:i,start:u,once:!0}});this.initSplitText(i,d,o),d.scrollTrigger&&this.scrollTriggers.push(d.scrollTrigger)}else{m.set(i,a.initial);const d=i.getBoundingClientRect();if(d.top<window.innerHeight&&d.bottom>0)m.to(i,{...a.animate,duration:c,ease:l,delay:o});else try{const h=S.create({trigger:i,start:u,once:!0,onEnter:()=>{m.to(i,{...a.animate,duration:c,ease:l,delay:o})}});h&&this.scrollTriggers.push(h)}catch{m.to(i,{...a.animate,duration:c,ease:l,delay:o})}}})}init(){if(!this.shouldAnimate()){this.showAllElements();return}document.querySelectorAll("[data-tween-group]:not([data-tween-group-initialized])").forEach(e=>{e.dataset.tweenGroupInitialized="true",this.initTweenGroup(e)}),this.initStandaloneTweens(),this.initPolicyPages(),this.initialized=!0}initPolicyPages(){const t=document.querySelector(".shopify-policy__container");if(!t)return;const e=t.querySelector(".shopify-policy__title"),i=t.querySelector(".shopify-policy__body");if(!e&&!i)return;const n=m.timeline({delay:.1});if(e){const s=new _(e,{type:"lines",linesClass:"tween-split-line"});s.lines.forEach(o=>{const a=document.createElement("div");a.style.overflow="hidden",a.style.display="block",a.style.paddingBottom="0.25em",a.style.marginBottom="-0.25em",o.parentNode.insertBefore(a,o),a.appendChild(o)}),m.set(s.lines,{yPercent:120}),n.add(()=>{e.style.opacity="1",e.style.transform="none"},0),n.to(s.lines,{yPercent:0,duration:1.2,ease:"power4.out",stagger:.05},0),this.splitInstances.push(s)}i&&(m.set(i,{opacity:0,y:30}),n.to(i,{opacity:1,y:0,duration:.8,ease:"power3.out"},e?.3:0))}showAllElements(){document.querySelectorAll("[data-tween]").forEach(e=>{e.style.opacity="1",e.style.transform="none",e.style.clipPath="none"})}refresh(){S.refresh()}destroy(){this.scrollTriggers.forEach(t=>{t&&t.kill&&t.kill()}),this.scrollTriggers=[],this.splitInstances.forEach(t=>{t&&t.revert&&t.revert()}),this.splitInstances=[],document.querySelectorAll("[data-tween-initialized]").forEach(t=>{delete t.dataset.tweenInitialized}),document.querySelectorAll("[data-tween-group-initialized]").forEach(t=>{delete t.dataset.tweenGroupInitialized}),this.initialized=!1}reinit(){this.destroy(),this.init()}}const P=new Ft,D={normal:300},K={search:500,cartNote:500},G={announcement:1e3,cartFetch:8e3,sectionFetch:1e4,toast:3e3,formSuccess:3e3};class It{constructor(){this.container=null,this.queue=[],this.current=null,this.maxToasts=3}ensureContainer(){this.container||(this.container=document.createElement("div"),this.container.className="toast-container",this.container.setAttribute("role","status"),this.container.setAttribute("aria-live","polite"),document.body.appendChild(this.container))}show(t,e={}){const{type:i="info",duration:n=4e3}=e;this.ensureContainer();const s=document.createElement("div");s.className=`toast toast--${i}`,i==="error"&&(s.setAttribute("role","alert"),s.setAttribute("aria-live","assertive"));const o=document.createElement("span");o.className="toast__icon";const a=document.createElement("i");a.className=`ph ${this.getIcon(i)}`,o.appendChild(a);const c=document.createElement("span");c.className="toast__message",c.textContent=t;const l=document.createElement("button");l.className="toast__close",l.setAttribute("aria-label","Dismiss");const u=document.createElement("i");u.className="ph ph-x",l.appendChild(u),s.appendChild(o),s.appendChild(c),s.appendChild(l),l.addEventListener("click",()=>this.dismiss(s),{once:!0});const d=this.container.querySelectorAll(".toast");return d.length>=this.maxToasts&&d.length>0&&this.dismiss(d[0]),this.container.appendChild(s),requestAnimationFrame(()=>{s.classList.add("toast--visible")}),n>0&&setTimeout(()=>this.dismiss(s),n),s}getIcon(t){const e={success:"ph-check-circle",error:"ph-warning-circle",info:"ph-info"};return e[t]||e.info}dismiss(t){!t||!t.parentNode||(t.classList.remove("toast--visible"),t.classList.add("toast--leaving"),setTimeout(()=>{t.remove()},D.normal))}success(t,e=4e3){return this.show(t,{type:"success",duration:e})}error(t,e=5e3){return this.show(t,{type:"error",duration:e})}info(t,e=4e3){return this.show(t,{type:"info",duration:e})}}const E=new It;class Dt{constructor(){this.cart=null,this.listeners=new Set,this.isUpdating=!1,this.requestTimeout=G.cartFetch}async fetchWithTimeout(t,e={}){const i=new AbortController,n=setTimeout(()=>i.abort(),this.requestTimeout);try{const s=await fetch(t,{...e,signal:i.signal});return clearTimeout(n),s}catch(s){throw clearTimeout(n),s}}async handleErrorResponse(t,e){const i=window.themeStrings||{};if(t.status===429)E.error(i.errorRateLimit||"Too many requests. Please wait a moment and try again.");else if(t.status>=500)E.error(i.errorServer||"Server error. Please try again later.");else{const n=await t.json().catch(()=>({}));E.error(n.description||e)}}async init(){await this.fetch()}async fetch(){try{const t=await this.fetchWithTimeout("/cart.js");return t.ok?(this.cart=await t.json(),this.notify(),this.cart):null}catch{return null}}get(){return this.cart}getItemCount(){return this.cart?.item_count||0}getTotalPrice(){return this.cart?.total_price||0}async updateLine(t,e,i=[]){this.isUpdating=!0,this.notify();const n=window.cartStrings?.error||"Could not update cart";try{const s={line:t,quantity:e};i.length>0&&(s.sections=i,s.sections_url=window.location.pathname);const o=await this.fetchWithTimeout("/cart/change.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(o.ok){const a=await o.json();if(this.cart=a,document.dispatchEvent(new CustomEvent("cart:updated",{detail:{cart:this.cart,sections:a.sections}})),(window.themeSettings||{}).enableCartSuccessNotifications!==!1){const l=window.themeStrings||{};e===0?E.success(l.cartSuccessRemoved||"Item removed from cart",3e3):E.success(l.cartSuccessUpdated||"Cart updated",3e3)}return{cart:this.cart,sections:a.sections}}else await this.handleErrorResponse(o,n)}catch(s){s.name==="AbortError"?E.error("Request timed out. Please check your connection."):E.error(n+". Please try again.")}finally{this.isUpdating=!1,this.notify()}return{cart:this.cart}}async addItem(t,e=1,i={}){this.isUpdating=!0,this.notify();const n=window.cartStrings?.error||"Could not add to cart";try{const s=await this.fetchWithTimeout("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,quantity:e,properties:i})});if(s.ok){if(await this.fetch(),document.dispatchEvent(new CustomEvent("cart:updated",{detail:{cart:this.cart}})),(window.themeSettings||{}).enableCartSuccessNotifications!==!1){const a=window.themeStrings||{};E.success(a.cartSuccessAdded||"Added to cart",3e3)}}else await this.handleErrorResponse(s,n)}catch(s){s.name==="AbortError"?E.error("Request timed out. Please check your connection."):E.error(n+". Please try again.")}finally{this.isUpdating=!1,this.notify()}return this.cart}async updateNote(t){try{await this.fetchWithTimeout("/cart/update.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({note:t})}),this.cart&&(this.cart.note=t)}catch{}}subscribe(t){return this.listeners.add(t),()=>this.listeners.delete(t)}notify(){this.listeners.forEach(t=>{try{t(this.cart,this.isUpdating)}catch{}})}formatMoney(t){return nt(t)}getSizedImageUrl(t,e){if(!t)return"";const i=t.match(/^(.+?)(\.(jpg|jpeg|png|gif|webp))(\?.*)?$/i);return i?`${i[1]}_${e}${i[2]}${i[4]||""}`:t}}const g=new Dt;function q(r){return r==null?"":String(r).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function C(r){return r==null?"":String(r).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/`/g,"&#96;")}function Ht(r){const t=['button:not([disabled]):not([tabindex="-1"])','[href]:not([tabindex="-1"])','input:not([disabled]):not([tabindex="-1"])','select:not([disabled]):not([tabindex="-1"])','textarea:not([disabled]):not([tabindex="-1"])','[tabindex]:not([tabindex="-1"])'].join(", ");let e=[],i=null,n=null;function s(){e=[...r.querySelectorAll(t)],i=e.length>0?e[0]:null,n=e.length>0?e[e.length-1]:null}function o(a){a.key==="Tab"&&(s(),e.length&&(a.shiftKey?document.activeElement===i&&n&&(a.preventDefault(),n.focus()):document.activeElement===n&&i&&(a.preventDefault(),i.focus())))}return r.addEventListener("keydown",o),s(),i&&requestAnimationFrame(()=>i.focus()),{update:s,destroy(){r.removeEventListener("keydown",o)}}}class Rt{constructor(){this.drawer=null,this.backdrop=null,this.panel=null,this.isOpen=!1,this.isAnimating=!1,this.isRendering=!1,this.noteTimeout=null,this.boundHandlers={},this.unsubscribe=null,this.focusTrap=null}init(){this.drawer=document.getElementById("cart-drawer"),this.drawer&&(this.backdrop=this.drawer.querySelector(".drawer-backdrop"),this.panel=this.drawer.querySelector("[data-cart-drawer-panel]"),this.unsubscribe=g.subscribe((t,e)=>{this.onCartStateChange(t,e)}),this.bindEvents(),this.bindGlobalEvents())}onCartStateChange(t,e){this.drawer&&(e?(this.drawer.classList.add("is-loading"),this.drawer.setAttribute("aria-busy","true"),this.drawer.setAttribute("aria-label",window.themeStrings?.cartUpdating||"Updating cart")):(this.drawer.classList.remove("is-loading"),this.drawer.setAttribute("aria-busy","false"),this.drawer.setAttribute("aria-label",window.themeStrings?.cartDrawer||"Shopping cart")))}announce(t){const e=this.drawer?.querySelector("[data-cart-status]");e&&(e.textContent=t,setTimeout(()=>{e.textContent=""},G.announcement))}bindEvents(){this.boundHandlers.handleClose=this.handleClose.bind(this),this.drawer.querySelectorAll("[data-cart-drawer-close]").forEach(e=>{e.addEventListener("click",this.boundHandlers.handleClose)}),this.boundHandlers.handleClick=this.handleClick.bind(this),this.drawer.addEventListener("click",this.boundHandlers.handleClick),this.boundHandlers.handleChange=this.handleChange.bind(this),this.drawer.addEventListener("change",this.boundHandlers.handleChange),this.boundHandlers.handleNoteInput=this.handleNoteInput.bind(this);const t=this.drawer.querySelector("[data-cart-note]");t&&t.addEventListener("input",this.boundHandlers.handleNoteInput),this.boundHandlers.handleKeydown=this.handleKeydown.bind(this),document.addEventListener("keydown",this.boundHandlers.handleKeydown),this.boundHandlers.handleLinkClick=this.handleLinkClick.bind(this),this.drawer.addEventListener("click",this.boundHandlers.handleLinkClick)}handleLinkClick(t){const e=t.target.closest("a[href]");if(!e||e.hasAttribute("data-cart-drawer-close"))return;const i=e.getAttribute("href");!i||i.startsWith("#")||i.startsWith("http")||i.startsWith("//")||this.close()}bindGlobalEvents(){this.boundHandlers.open=this.open.bind(this),document.addEventListener("cart:open",this.boundHandlers.open),this.boundHandlers.toggle=this.toggle.bind(this),document.addEventListener("cart:toggle",this.boundHandlers.toggle),this.boundHandlers.closeOnNavigation=()=>{this.isOpen&&this.close()},window.addEventListener("swup:contentReplaced",this.boundHandlers.closeOnNavigation)}handleClose(t){t.target.closest("a")?setTimeout(()=>this.close(),100):this.close()}async handleClick(t){const e=t.target.closest("[data-quantity-minus]"),i=t.target.closest("[data-quantity-plus]"),n=t.target.closest("[data-remove-item]");if(e||i||n){t.preventDefault();const s=e?.dataset.line||i?.dataset.line||n?.dataset.line,o=parseInt(s);if(!s||isNaN(o))return;const a=this.drawer.querySelector(`[data-quantity-input][data-line="${o}"]`),l=this.drawer.querySelector(`[data-line-index="${o}"]`)?.querySelector("a")?.textContent?.trim()||"Item";let u=parseInt(a?.value||0);e&&u>0&&u--,i&&u++,n&&(u=0),await this.updateQuantity(o,u),n||u===0?this.announce(`${l} removed from cart`):this.announce(`${l} quantity updated to ${u}`)}}async handleChange(t){if(t.target.matches("[data-quantity-input]")){const e=parseInt(t.target.dataset.line),i=parseInt(t.target.value)||0;await this.updateQuantity(e,i)}}async updateQuantity(t,e){const i=["cart-drawer","cart-icon-bubble"],n=await g.updateLine(t,e,i);if(n.sections?.["cart-drawer"]&&this.renderFromSectionHtml(n.sections["cart-drawer"]),n.sections?.["cart-icon-bubble"]){const s=document.getElementById("cart-icon-bubble");if(s){const c=new DOMParser().parseFromString(n.sections["cart-icon-bubble"],"text/html").querySelector(".shopify-section");c&&(s.innerHTML=c.innerHTML)}}}renderFromSectionHtml(t){if(!this.drawer)return;const i=new DOMParser().parseFromString(t,"text/html"),n=i.querySelector("[data-cart-drawer-content]"),s=i.querySelector("[data-cart-drawer-footer]"),o=this.drawer.querySelector("[data-cart-drawer-content]"),a=this.drawer.querySelector("[data-cart-drawer-footer]");n&&o&&o.replaceChildren(...n.cloneNode(!0).childNodes),s?a?a.outerHTML=s.outerHTML:this.panel.insertAdjacentHTML("beforeend",s.outerHTML):a&&a.remove()}handleNoteInput(t){clearTimeout(this.noteTimeout),this.noteTimeout=setTimeout(()=>{g.updateNote(t.target.value)},K.cartNote)}handleKeydown(t){t.key==="Escape"&&this.isOpen&&this.close()}async open(t){if(this.isAnimating||this.isOpen||!this.drawer)return;this.isAnimating=!0;const e=t?.detail?.skipFetch||t?.skipFetch||!1;this.previouslyFocused=document.activeElement,this.render(),this.drawer.classList.add("is-open"),this.drawer.removeAttribute("inert"),this.drawer.removeAttribute("aria-hidden"),this.isOpen=!0,T.stop(),document.dispatchEvent(new CustomEvent("cart:opened")),document.dispatchEvent(new CustomEvent("cart:updated",{detail:{cart:g.get()}})),setTimeout(()=>{this.isAnimating=!1,this.focusTrap=Ht(this.panel)},D.normal),e||g.fetch()}close(){this.isAnimating||!this.isOpen||!this.drawer||(this.isAnimating=!0,this.focusTrap&&(this.focusTrap.destroy(),this.focusTrap=null),document.dispatchEvent(new CustomEvent("cart:closed")),this.drawer.classList.remove("is-open"),setTimeout(()=>{this.drawer.setAttribute("inert",""),this.isOpen=!1,this.isAnimating=!1,T.start(),this.previouslyFocused&&this.previouslyFocused.focus&&(this.previouslyFocused.focus(),this.previouslyFocused=null)},D.normal))}toggle(){this.isOpen?this.close():this.open()}async render(){if(!(!this.drawer||this.isRendering)){this.isRendering=!0;try{const t=window.Shopify?.routes?.root||"/",e=await fetch(`${t}?section_id=cart-drawer`);if(e.ok){const i=await e.text(),s=new DOMParser().parseFromString(i,"text/html"),o=s.querySelector("[data-cart-drawer-content]"),a=s.querySelector("[data-cart-drawer-footer]"),c=this.drawer.querySelector("[data-cart-drawer-content]"),l=this.drawer.querySelector("[data-cart-drawer-footer]");o&&c&&c.replaceChildren(...o.cloneNode(!0).childNodes),a?l?l.outerHTML=a.outerHTML:this.panel.insertAdjacentHTML("beforeend",a.outerHTML):l&&l.remove()}}catch{this.renderFallback()}finally{this.isRendering=!1}}}renderFallback(){const t=g.get();if(!t||!this.drawer)return;const e=this.drawer.querySelector("[data-cart-drawer-content]"),i=this.drawer.querySelector("[data-cart-drawer-footer]");t.item_count===0?(e.innerHTML=this.renderEmptyCart(),i&&i.remove()):(e.innerHTML=this.renderCartItems(t),i?i.outerHTML=this.renderFooter(t):this.panel.insertAdjacentHTML("beforeend",this.renderFooter(t)))}renderEmptyCart(){const t=window.themeStrings?.cartEmpty||"Your cart is empty",e=window.themeStrings?.cartEmptyDescription||"Add some items to get started",i=window.themeStrings?.cartStartShopping||"Start shopping",n=window.routes?.allProductsCollectionUrl||"/collections/all";return`
      <div class="cart-drawer__empty">
        <h3 class="text-xl font-semibold text-[--color-text] font-heading">${t}</h3>
        <p>${e}</p>
        <a href="${n}" class="btn btn--primary btn--full" data-cart-drawer-close>
          <i class="ph ph-storefront"></i>
          <span>${i}</span>
        </a>
      </div>
    `}renderCartItems(t){return`
      <ul class="cart-drawer__items" role="list">
        ${t.items.map((e,i)=>this.renderCartItem(e,i+1)).join("")}
      </ul>
    `}renderCartItem(t,e){const i=t.variant_title&&t.variant_title!=="Default Title",n=t.original_line_price!==t.final_line_price,s=t.original_line_price,o=q(t.product_title),a=q(t.variant_title),c=C(t.title),l=C(t.url);return`
      <li class="cart-drawer__item" data-cart-item data-line-index="${e}">
        <div class="cart-drawer__item-image">
          ${t.image?`
            <a href="${l}">
              <img
                src="${g.getSizedImageUrl(t.image,"200x")}"
                alt="${c}"
                class="w-full h-full object-cover"
                loading="lazy"
                decoding="async"
              >
            </a>
          `:""}
        </div>

        <div class="cart-drawer__item-details">
          <a href="${l}" class="cart-drawer__item-title">
            ${o}
          </a>
          ${i?`<p class="cart-drawer__item-variant">${a}</p>`:""}

          <div class="cart-drawer__item-price">
            ${n?`<span class="cart-drawer__item-price--compare">${g.formatMoney(s)}</span>`:""}
            <span class="${n?"sale-price":""}">${g.formatMoney(t.final_line_price)}</span>
          </div>

          <div class="cart-drawer__item-actions">
            <div class="cart-drawer__quantity" data-quantity-wrapper style="display: inline-flex; align-items: center; height: 2.5rem; padding: 0; background-color: var(--color-background); border: var(--input-border-width) solid var(--color-border); border-radius: var(--input-radius); box-shadow: var(--input-shadow);">
              <button
                type="button"
                class="cart-drawer__quantity-btn"
                data-quantity-minus
                data-line="${e}"
                aria-label="${C(window.themeStrings?.decreaseQuantity||"Decrease quantity")}"
              >
                <i class="ph ph-minus"></i>
              </button>
              <div class="cart-drawer__quantity-value">
                <input
                  type="number"
                  class="cart-drawer__quantity-input"
                  value="${t.quantity}"
                  min="0"
                  data-quantity-input
                  data-line="${e}"
                  aria-label="${C(window.themeStrings?.quantity||"Quantity")}"
                  style="border: none !important; box-shadow: none !important; outline: none !important; background: transparent !important;"
                >
              </div>
              <button
                type="button"
                class="cart-drawer__quantity-btn"
                data-quantity-plus
                data-line="${e}"
                aria-label="${C(window.themeStrings?.increaseQuantity||"Increase quantity")}"
              >
                <i class="ph ph-plus"></i>
              </button>
            </div>
            <button
              type="button"
              class="cart-drawer__remove"
              data-remove-item
              data-line="${e}"
              aria-label="${C((window.themeStrings?.removeItem||"Remove {{ title }}").replace("{{ title }}",t.product_title))}"
            >
              <i class="ph ph-trash"></i>
            </button>
          </div>
        </div>
      </li>
    `}renderFooter(t){const e=window.themeStrings?.cartAddNote||"Add a note",i=window.themeStrings?.cartNotePlaceholder||"Add special instructions...",n=window.themeStrings?.cartSubtotal||"Subtotal",s=window.themeStrings?.cartTaxesNote||"Taxes and shipping calculated at checkout",o=window.themeStrings?.cartViewCart||"View cart",a=window.themeStrings?.cartCheckout||"Checkout",c=window.routes?.cartUrl||"/cart";return`
      <div class="p-6 border-t border-[--color-border] bg-[--color-background]" data-cart-drawer-footer>
        <details class="mb-4 group/note">
          <summary class="flex items-center justify-between w-full py-3 text-xs font-semibold tracking-wide uppercase text-[--color-text-secondary] cursor-pointer transition-colors hover:text-[--color-text]">
            <span>${e}</span>
            <i class="ph ph-caret-down text-base transition-transform group-open/note:rotate-180"></i>
          </summary>
          <div class="pb-4">
            <textarea
              name="note"
              class="w-full min-h-[80px] p-3 text-sm bg-transparent border border-[--color-border] text-[--color-text] resize-y focus:outline-2 focus:outline-[--color-primary] focus:-outline-offset-2"
              placeholder="${i}"
              maxlength="5000"
              data-cart-note
            >${q(t.note||"")}</textarea>
          </div>
        </details>

        <div class="flex justify-between items-center text-base font-semibold mb-2">
          <span>${n}</span>
          <span data-cart-subtotal>${g.formatMoney(t.total_price)}</span>
        </div>
        <p class="text-xs text-[--color-text-secondary] m-0 mb-4">${s}</p>

        <div class="flex flex-col gap-3">
          <a href="${c}" class="btn btn--secondary btn--full" data-cart-drawer-close>
            <span>${o}</span>
          </a>
          <form action="${c}" method="post" class="m-0">
            <button type="submit" name="checkout" class="btn btn--primary btn--full">
              <i class="ph ph-lock-simple"></i>
              <span>${a}</span>
            </button>
          </form>
        </div>
      </div>
    `}async refresh(){await g.fetch(),this.render()}reinit(){this.destroy(),this.init()}destroy(){if(!this.drawer)return;this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null),this.drawer.querySelectorAll("[data-cart-drawer-close]").forEach(e=>{e.removeEventListener("click",this.boundHandlers.handleClose)}),this.drawer.removeEventListener("click",this.boundHandlers.handleClick),this.drawer.removeEventListener("click",this.boundHandlers.handleLinkClick),this.drawer.removeEventListener("change",this.boundHandlers.handleChange);const t=this.drawer.querySelector("[data-cart-note]");t&&t.removeEventListener("input",this.boundHandlers.handleNoteInput),document.removeEventListener("keydown",this.boundHandlers.handleKeydown),document.removeEventListener("cart:open",this.boundHandlers.open),document.removeEventListener("cart:toggle",this.boundHandlers.toggle),window.removeEventListener("swup:contentReplaced",this.boundHandlers.closeOnNavigation),clearTimeout(this.noteTimeout),this.focusTrap&&(this.focusTrap.destroy(),this.focusTrap=null),this.drawer=null,this.backdrop=null,this.panel=null,this.isOpen=!1,this.isAnimating=!1}}const M=new Rt;class Ot{constructor(){this.wrapper=null,this.noteTimeout=null,this.isInitialized=!1,this.isReady=!1,this.unsubscribe=null,this.hasRenderedOnce=!1}init(){this.wrapper=document.querySelector("[data-cart-wrapper]"),this.wrapper&&(this.wrapper.dataset.cartPageInitialized||(this.wrapper.dataset.cartPageInitialized="true",this.unsubscribe=g.subscribe((t,e)=>{this.onCartStateChange(t,e)}),this.bindEvents(),this.initAnimations(),this.isInitialized=!0))}onCartStateChange(t,e){this.wrapper&&(e?this.wrapper.classList.add("is-updating"):(this.wrapper.classList.remove("is-updating"),t&&this.isReady&&this.hasRenderedOnce&&this.render(),this.hasRenderedOnce||(this.hasRenderedOnce=!0)))}bindEvents(){this.wrapper.addEventListener("click",async e=>{const i=e.target.closest("[data-quantity-minus]"),n=e.target.closest("[data-quantity-plus]"),s=e.target.closest("[data-remove-item]");if(i||n||s){e.preventDefault();const o=e.target.closest("[data-cart-item]"),a=parseInt(o?.dataset.line),c=o?.querySelector("[data-quantity-input]");let l=parseInt(c?.value||0);i&&l>0&&l--,n&&l++,s&&(l=0);try{await g.updateLine(a,l)}catch{const d=window.themeStrings?.error||"Could not update cart. Please try again.";E.error(d)}}}),this.wrapper.addEventListener("change",async e=>{if(e.target.matches("[data-quantity-input]")){const i=parseInt(e.target.dataset.line),n=parseInt(e.target.value)||0;try{await g.updateLine(i,n)}catch{const o=window.themeStrings?.error||"Could not update cart. Please try again.";E.error(o)}}});const t=this.wrapper.querySelector("[data-cart-note]");t&&t.addEventListener("input",e=>{clearTimeout(this.noteTimeout),this.noteTimeout=setTimeout(()=>{g.updateNote(e.target.value)},K.cartNote)})}initAnimations(){this.isReady=!0}render(){const t=g.get();if(!t||!this.wrapper)return;const e=this.wrapper.querySelector("[data-subtitle-text]");if(e){const i=t.item_count===1?"Item":"Items";e.textContent=`${t.item_count} ${i}`}t.item_count===0?this.renderEmptyState():this.renderCartContent(t)}renderEmptyState(){const t=this.wrapper.querySelector(".lg\\:grid")||this.wrapper.querySelector("[data-cart-form]")?.parentElement?.parentElement,e=window.themeStrings?.cartEmpty||"Your cart is empty",i=window.themeStrings?.cartEmptyDescription||"Looks like you haven't added anything yet.",n=window.themeStrings?.cartStartShopping||"Start Shopping",s=window.themeStrings?.backHome||"Back to Home",o=window.routes?.allProductsCollectionUrl||"/collections/all",a=window.routes?.rootUrl||"/",c=this.wrapper.querySelector('[class*="page-container"]')?"page-container":"page-full";t&&(t.outerHTML=`
        <div class="${c} pb-[--page-vertical-padding]">
          <h2 class="text-2xl md:text-3xl font-semibold text-[--color-text] font-heading">${e}</h2>
          <p class="mt-4 text-[--color-text-secondary] max-w-sm">${i}</p>

          <div class="mt-10 flex flex-col sm:flex-row gap-4 max-w-xs sm:max-w-none">
            <a href="${o}" class="btn btn--primary w-full sm:w-auto">
              <i class="ph ph-storefront"></i>
              <span>${n}</span>
            </a>
            <a href="${a}" class="btn btn--secondary w-full sm:w-auto">
              <i class="ph ph-house"></i>
              <span>${s}</span>
            </a>
          </div>
        </div>
      `)}renderCartContent(t){const e=this.wrapper.querySelector("[data-cart-form] ul");e&&(e.innerHTML=t.items.map((i,n)=>this.renderCartItem(i,n+1)).join("")),this.updateSummary(t)}renderCartItem(t,e){const i=t.variant_title&&t.variant_title!=="Default Title",n=t.original_line_price!==t.final_line_price,s=t.selling_plan_allocation,o=q(window.themeStrings?.cartRemove||"Remove"),a=q(t.product_title),c=q(t.variant_title),l=C(t.title),u=C(t.url),d=s?q(t.selling_plan_allocation.selling_plan.name):"";return`
      <li class="py-8 first:pt-0" data-cart-item data-line="${e}">
        <div class="flex gap-6">
          <div class="w-28 h-36 flex-shrink-0 overflow-hidden bg-[--color-background-secondary]">
            ${t.image?`
              <a href="${u}">
                <img
                  src="${g.getSizedImageUrl(t.image,"300x")}"
                  alt="${l}"
                  class="w-full h-full object-cover"
                  loading="lazy"
                  fetchpriority="low"
                  decoding="async"
                >
              </a>
            `:""}
          </div>

          <div class="flex flex-1 flex-col justify-between">
            <div>
              <div class="flex justify-between">
                <div>
                  <h3 class="text-base font-medium text-[--color-text]">
                    <a href="${u}" class="hover:text-[--color-primary] transition-colors">
                      ${a}
                    </a>
                  </h3>
                  ${i?`<p class="mt-1 text-sm text-[--color-text-secondary]">${c}</p>`:""}
                  ${s?`<p class="mt-1 text-xs text-[--color-text-secondary]">${d}</p>`:""}
                </div>
                <div class="text-right">
                  <p class="text-base font-medium text-[--color-text]">${g.formatMoney(t.final_line_price)}</p>
                  ${n?`<p class="text-sm text-[--color-text-secondary] line-through">${g.formatMoney(t.original_line_price)}</p>`:""}
                </div>
              </div>
            </div>

            <div class="flex items-center justify-between mt-4">
              <div class="cart-quantity" data-quantity-wrapper>
                <button type="button" class="cart-quantity-btn" data-quantity-minus aria-label="${C(window.themeStrings?.decreaseQuantity||"Decrease quantity")}">
                  <i class="ph ph-minus"></i>
                </button>
                <div class="cart-quantity-value">
                  <input
                    type="number"
                    name="updates[]"
                    value="${t.quantity}"
                    min="0"
                    class="cart-quantity-input"
                    data-quantity-input
                    data-line="${e}"
                    aria-label="${C(window.themeStrings?.quantity||"Quantity")}"
                  >
                </div>
                <button type="button" class="cart-quantity-btn" data-quantity-plus aria-label="${C(window.themeStrings?.increaseQuantity||"Increase quantity")}">
                  <i class="ph ph-plus"></i>
                </button>
              </div>

              <button
                type="button"
                class="text-xs uppercase tracking-wider font-medium text-[--color-text-secondary] hover:text-[--color-text] transition-colors"
                data-remove-item
                data-line="${e}"
              >
                ${o}
              </button>
            </div>
          </div>
        </div>
      </li>
    `}updateSummary(t){const e=this.wrapper.querySelector("[data-cart-subtotal]");e&&(e.textContent=g.formatMoney(t.total_price));const i=this.wrapper.querySelector("[data-cart-total]");i&&(i.textContent=g.formatMoney(t.total_price));const n=this.wrapper.querySelector("[data-cart-note]");n&&t.note!==n.value&&(n.value=t.note||"")}reinit(){this.destroy(),this.init()}destroy(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null),clearTimeout(this.noteTimeout),this.wrapper=null,this.isInitialized=!1,this.isReady=!1}}const z=new Ot,Nt="modulepreload",Ut=function(r,t){return new URL(r,t).href},Z={},zt=function(t,e,i){let n=Promise.resolve();if(e&&e.length>0){let l=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),c=a?.nonce||a?.getAttribute("nonce");n=l(e.map(u=>{if(u=Ut(u,i),u in Z)return;Z[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(i)for(let p=o.length-1;p>=0;p--){const w=o[p];if(w.href===u&&(!d||w.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":Nt,d||(h.as="script"),h.crossOrigin="",h.href=u,c&&h.setAttribute("nonce",c),document.head.appendChild(h),d)return new Promise((p,w)=>{h.addEventListener("load",p),h.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};let tt=null;class Bt{constructor(){this.lightbox=null,this.initialized=!1,this.glightboxLoaded=!1}async loadGLightbox(){if(!this.glightboxLoaded)try{tt=(await zt(()=>import("./pieces-glightbox.min.js").then(e=>e.g),[],import.meta.url)).default,this.glightboxLoaded=!0}catch(t){throw window.Shopify?.designMode&&console.error("Failed to load GLightbox:",t),this.loadFailed=!0,t}}async init(t,e={}){if(!t||this.loadFailed)return;try{await this.loadGLightbox()}catch{return}const n={...{touchNavigation:!0,loop:!0,autoplayVideos:!1,closeOnOutsideClick:!0,zoomable:!0,draggable:!0,dragToleranceX:40,dragToleranceY:65,openEffect:"fade",closeEffect:"fade",cssEffects:{fadeIn:"glightbox-fade-in",fadeOut:"glightbox-fade-out"},svg:{close:'<i class="ph ph-x"></i>',prev:'<i class="ph ph-caret-left"></i>',next:'<i class="ph ph-caret-right"></i>'},plyr:{css:"",js:"",config:{ratio:"16:9",muted:!1,hideControls:!0,youtube:{noCookie:!0,rel:0,showinfo:0,iv_load_policy:3},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1}}}},...e},s=this.buildElements(t);s.length!==0&&(this.lightbox&&this.lightbox.destroy(),this.lightbox=tt({elements:s,...n}),this.bindClickHandlers(t),this.initialized=!0)}buildElements(t){const e=t.querySelectorAll("[data-gallery-image]"),i=[];return e.forEach(n=>{switch(n.dataset.mediaType){case"image":{const o=n.querySelector("img");if(o){const a=o.src.replace(/width=\d+/,"width=3000");i.push({href:a,type:"image",alt:o.alt||"",zoomable:!0})}break}case"video":{const o=n.querySelector("video");if(o){const a=o.querySelectorAll("source"),l=`<video src="${a.length>0?a[0].src:o.src}" class="glightbox-video" controls playsinline preload="metadata" style="max-width:100%; max-height:80vh;"></video>`;i.push({content:l,type:"inline"})}break}case"external_video":{const o=n.dataset.externalVideoId,a=n.dataset.externalVideoHost;if(o&&a){let c="";a==="youtube"?c=`https://www.youtube.com/watch?v=${o}`:a==="vimeo"&&(c=`https://vimeo.com/${o}`),c&&i.push({href:c,type:"video",source:a})}break}}}),i}bindClickHandlers(t){const e=t.querySelectorAll("[data-gallery-image]");let i=0;const n=new Map;e.forEach(s=>{s.dataset.mediaType!=="model"&&(n.set(s,i),i++)}),e.forEach(s=>{s.dataset.mediaType==="image"&&(s.style.cursor="zoom-in",s.addEventListener("click",a=>{a.target.closest("button, .model-viewer-ui")||(a.preventDefault(),this.open(n.get(s)))}))})}open(t=0){this.lightbox&&this.lightbox.openAt(t)}close(){this.lightbox&&this.lightbox.close()}destroy(){this.lightbox&&(this.lightbox.destroy(),this.lightbox=null,this.initialized=!1)}async refresh(t,e={}){this.destroy(),await this.init(t,e)}}const Vt=new Bt;function jt(r){try{return localStorage.getItem(r)}catch{return null}}function Wt(r,t){try{return localStorage.setItem(r,t),!0}catch{return!1}}function et(r,t){return t!==void 0?Wt(r,t):jt(r)}function Kt(r,t){let e;return function(...i){clearTimeout(e),e=setTimeout(()=>r.apply(this,i),t)}}class A extends HTMLElement{constructor(){super(),this.boundHandlers={},this.isRendering=!1}connectedCallback(){this.sectionId=this.dataset.sectionId,this.form=this.querySelector("[data-facets-form]"),this.drawer=this.querySelector("#FacetsDrawer"),this.loading=this.querySelector("[data-facets-loading]"),this.drawer&&document.body.appendChild(this.drawer),this.boundHandlers.onFormChange=Kt(this.onFormChange.bind(this),K.search),this.boundHandlers.onActiveFilterClick=this.onActiveFilterClick.bind(this),this.boundHandlers.onKeydown=this.onKeydown.bind(this),this.boundHandlers.onPopState=this.onPopState.bind(this),this.bindEvents(),this.setupHistoryListener()}disconnectedCallback(){document.removeEventListener("keydown",this.boundHandlers.onKeydown),window.removeEventListener("popstate",this.boundHandlers.onPopState),this.drawer&&this.drawer.parentNode===document.body&&this.drawer.remove()}bindEvents(){const t=this.querySelector("[data-facets-open]");t&&t.addEventListener("click",()=>this.openDrawer()),this.drawer&&this.drawer.addEventListener("click",n=>{n.target.closest("[data-facets-close]")&&this.closeDrawer(),n.target.closest("[data-facets-apply]")&&(this.applyFilters(),this.closeDrawer());const s=n.target.closest("[data-facet-clear-all]");if(s){n.preventDefault();const o=s.href,a=o.includes("?")?o.slice(o.indexOf("?")+1):"";this.renderPage(a),this.closeDrawer()}}),this.querySelectorAll("[data-facet-remove], [data-facet-clear-all]").forEach(n=>{n.addEventListener("click",this.boundHandlers.onActiveFilterClick)});const e=this.querySelector("#SortBy");e&&e.addEventListener("change",this.boundHandlers.onFormChange);const i=this.querySelector("#SortByMobile");i&&i.addEventListener("change",n=>{e&&(e.value=n.target.value)}),document.addEventListener("keydown",this.boundHandlers.onKeydown),this.setupViewToggle()}setupViewToggle(){const t=this.querySelectorAll("[data-view-toggle]"),e=document.querySelector("[data-collection-wrapper]");if(!t.length||!e)return;const i=e.querySelector("[data-collection-content]"),n=e.querySelector("[data-collection-list-content]"),s=a=>{e.dataset.view=a,n&&(a==="list"?(i?.classList.add("hidden"),n.classList.remove("hidden")):(i?.classList.remove("hidden"),n.classList.add("hidden")))},o=et("collection-view")||"grid";s(o),t.forEach(a=>{const c=a.dataset.viewToggle===o;a.classList.toggle("is-active",c),a.setAttribute("aria-pressed",c)}),t.forEach(a=>{a.addEventListener("click",()=>{const c=a.dataset.viewToggle,l=e.dataset.view;if(c===l)return;const u=c==="list"?n:i,d=c==="list"?i:n,f=typeof window.shouldAnimate=="function"&&window.shouldAnimate(),h=window.gsap||window.pieces?.gsap;if(t.forEach(p=>{const w=p.dataset.viewToggle===c;p.classList.toggle("is-active",w),p.setAttribute("aria-pressed",w)}),f&&h&&u&&d){const p=d.offsetHeight;h.to(d,{opacity:0,duration:.2,ease:"power2.in",onComplete:()=>{s(c),h.set(u,{opacity:0});const w=e.querySelector("[data-product-grid-container]");if(w){w.style.height=`${p}px`,w.style.overflow="hidden";const x=u.offsetHeight;h.to(w,{height:x,duration:.4,ease:"power3.inOut",onComplete:()=>{w.style.height="",w.style.overflow=""}})}h.to(u,{opacity:1,duration:.3,delay:.15,ease:"power2.out",onComplete:()=>{window.pieces?.lenis&&window.pieces.lenis.resize()}})}})}else s(c),window.pieces?.lenis&&window.pieces.lenis.resize();et("collection-view",c)})})}setupHistoryListener(){A.searchParamsInitial=window.location.search.slice(1),A.searchParamsPrev=window.location.search.slice(1),window.addEventListener("popstate",this.boundHandlers.onPopState)}onKeydown(t){t.key==="Escape"&&this.isDrawerOpen()&&this.closeDrawer()}onPopState(t){const e=t.state?.searchParams??A.searchParamsInitial;e!==A.searchParamsPrev&&this.renderPage(e,!1)}isDrawerOpen(){return this.drawer&&!this.drawer.hasAttribute("inert")}openDrawer(){if(!this.drawer)return;this.scrollPosition=window.scrollY,document.body.style.top=`-${this.scrollPosition}px`,document.documentElement.classList.add("scroll-locked"),window.pieces?.lenis&&window.pieces.lenis.stop(),this.drawer.removeAttribute("inert"),this.drawer.classList.add("is-open");const t=this.querySelector("[data-facets-open]");t&&t.setAttribute("aria-expanded","true"),requestAnimationFrame(()=>{const e=this.drawer.querySelector("[data-facets-close]");e&&e.focus()})}closeDrawer(){if(!this.drawer)return;this.drawer.classList.remove("is-open"),setTimeout(()=>{this.drawer.setAttribute("inert",""),document.documentElement.classList.remove("scroll-locked"),document.body.style.top="",window.scrollTo(0,this.scrollPosition||0),window.pieces?.lenis&&window.pieces.lenis.start()},D.normal);const t=this.querySelector("[data-facets-open]");t&&(t.setAttribute("aria-expanded","false"),t.focus())}applyFilters(){const t=new FormData(this.form),e=document.querySelector("#SortBy");e&&e.value&&t.set("sort_by",e.value);const i=new URLSearchParams(t).toString();this.renderPage(i)}onFormChange(t){const e=new FormData(this.form),i=document.querySelector("#SortBy");i&&i.value&&e.set("sort_by",i.value);const n=new URLSearchParams(e).toString();this.renderPage(n)}onActiveFilterClick(t){t.preventDefault();const e=t.currentTarget.href,i=e.includes("?")?e.slice(e.indexOf("?")+1):"";this.renderPage(i)}async renderPage(t,e=!0){if(!this.isRendering){this.isRendering=!0,A.searchParamsPrev=t,this.showLoading();try{const i=`${window.location.pathname}?section_id=${this.sectionId}&${t}`,n=new AbortController,s=setTimeout(()=>n.abort(),G.sectionFetch),o=await fetch(i,{signal:n.signal});clearTimeout(s);const a=await o.text(),l=new DOMParser().parseFromString(a,"text/html");this.updateProductGrid(l),this.updateFilters(l),this.updateActiveFacets(l),this.updateProductCount(l),this.updatePagination(l),e&&this.updateURL(t),window.pieces?.lenis&&window.pieces.lenis.resize()}catch{}finally{this.isRendering=!1,this.hideLoading()}}}updateProductGrid(t){const e=t.querySelector("[data-collection-content]"),i=document.querySelector("[data-collection-content]");if(e&&i){const n=document.querySelector("[data-collection-wrapper]");n&&n.classList.add("is-transitioning"),i.replaceChildren(...e.cloneNode(!0).childNodes),requestAnimationFrame(()=>{n&&(n.classList.remove("is-transitioning"),this.animateNewItems(i)),document.dispatchEvent(new CustomEvent("facets:updated"))})}}animateNewItems(t){const e=t.querySelectorAll("[data-collection-item], [data-product-card]");window.pieces?.tween&&window.pieces.tween.reinit(),typeof gsap<"u"&&e.forEach((i,n)=>{const s=i.querySelector(".product-card-image"),o=i.querySelectorAll(".product-card-title .overflow-hidden span"),a=i.querySelectorAll(".product-card-price .overflow-hidden span");s&&gsap.set(s,{clipPath:"inset(0 100% 0 0)"}),o.length&&gsap.set(o,{yPercent:100}),a.length&&gsap.set(a,{yPercent:100});const c=n%4*.1;gsap.delayedCall(c,()=>{const l=gsap.timeline();s&&l.to(s,{clipPath:"inset(0 0% 0 0)",duration:1.2,ease:"expo.inOut"},0),o.length&&l.to(o,{yPercent:0,duration:.8,ease:"power4.out",stagger:.05},.2),a.length&&l.to(a,{yPercent:0,duration:.6,ease:"power4.out",stagger:.05},.3)})})}updateFilters(t){const e=t.querySelector(".facets-drawer__filters"),i=this.drawer?.querySelector(".facets-drawer__filters");if(e&&i){const n=[...i.querySelectorAll("details[open]")].map(s=>s.id);i.replaceChildren(...e.cloneNode(!0).childNodes),n.forEach(s=>{const o=i.querySelector(`#${s}`);o&&(o.open=!0)}),this._disclosureHandler&&i.removeEventListener("toggle",this._disclosureHandler,!0),this._disclosureHandler=s=>{if(s.target.matches(".facets-disclosure")){const o=s.target.querySelector(".ph-caret-down");o&&(o.style.transform=s.target.open?"rotate(180deg)":"")}},i.addEventListener("toggle",this._disclosureHandler,!0)}}updateActiveFacets(t){const e=t.querySelector("#ActiveFacets"),i=this.querySelector("#ActiveFacets");e&&i&&(i.outerHTML=e.outerHTML,this.querySelectorAll("[data-facet-remove], [data-facet-clear-all]").forEach(s=>{s.addEventListener("click",this.boundHandlers.onActiveFilterClick)}));const n=this.querySelector("[data-facets-open]");if(n){const s=t.querySelector("[data-facets-open]");s&&n.replaceChildren(...s.cloneNode(!0).childNodes)}}updateProductCount(t){const e=t.querySelector("[data-subtitle-text]"),i=document.querySelector("[data-subtitle-text]");e&&i&&(i.textContent=e.textContent)}updatePagination(t){const e=t.querySelector("[data-pagination-load-more]"),i=document.querySelector("[data-pagination-load-more]");i&&(e?i.replaceChildren(...e.cloneNode(!0).childNodes):i.replaceChildren());const n=t.querySelector(".collection-wrapper nav"),s=document.querySelector(".collection-wrapper nav");s&&n?s.replaceChildren(...n.cloneNode(!0).childNodes):s&&!n&&s.remove()}updateURL(t){const e=new URLSearchParams(t);e.delete("section_id");const i=e.toString(),n=i?`${window.location.pathname}?${i}`:window.location.pathname;history.pushState({searchParams:i},"",n)}showLoading(){this.loading&&(this.loading.style.opacity="1",this.loading.style.pointerEvents="auto")}hideLoading(){this.loading&&(this.loading.style.opacity="0",this.loading.style.pointerEvents="none")}}customElements.get("facet-filters-form")||customElements.define("facet-filters-form",A);class Gt extends HTMLElement{constructor(){super(),this.isDragging=!1,this.activeThumb=null}connectedCallback(){this.track=this.querySelector(".price-range-track"),this.range=this.querySelector(".price-range-progress"),this.thumbMin=this.querySelector(".price-range-thumb-min"),this.thumbMax=this.querySelector(".price-range-thumb-max"),this.displayMin=this.querySelector(".price-range-display-min"),this.displayMax=this.querySelector(".price-range-display-max"),this.hiddenMin=this.querySelector(".price-range-hidden-min"),this.hiddenMax=this.querySelector(".price-range-hidden-max"),this.currency=this.dataset.currency||"$",this.min=parseFloat(this.dataset.min)||0,this.max=parseFloat(this.dataset.max)||100,this.valueMin=parseFloat(this.dataset.valueMin)||this.min,this.valueMax=parseFloat(this.dataset.valueMax)||this.max,!(!this.track||!this.thumbMin||!this.thumbMax)&&(this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.thumbMin.setAttribute("role","slider"),this.thumbMin.setAttribute("aria-label","Minimum price"),this.thumbMin.setAttribute("aria-valuemin",this.min),this.thumbMin.setAttribute("aria-valuemax",this.max),this.thumbMin.setAttribute("tabindex","0"),this.thumbMax.setAttribute("role","slider"),this.thumbMax.setAttribute("aria-label","Maximum price"),this.thumbMax.setAttribute("aria-valuemin",this.min),this.thumbMax.setAttribute("aria-valuemax",this.max),this.thumbMax.setAttribute("tabindex","0"),this.thumbMin.addEventListener("pointerdown",this.onPointerDown),this.thumbMax.addEventListener("pointerdown",this.onPointerDown),this.thumbMin.addEventListener("keydown",this.onKeyDown),this.thumbMax.addEventListener("keydown",this.onKeyDown),this.updateUI())}disconnectedCallback(){this.thumbMin&&(this.thumbMin.removeEventListener("pointerdown",this.onPointerDown),this.thumbMin.removeEventListener("keydown",this.onKeyDown)),this.thumbMax&&(this.thumbMax.removeEventListener("pointerdown",this.onPointerDown),this.thumbMax.removeEventListener("keydown",this.onKeyDown)),document.removeEventListener("pointermove",this.onPointerMove),document.removeEventListener("pointerup",this.onPointerUp)}onPointerDown(t){t.preventDefault(),this.isDragging=!0,this.activeThumb=t.target.dataset.thumb,t.target.dataset.active="",t.target.setPointerCapture(t.pointerId),document.addEventListener("pointermove",this.onPointerMove),document.addEventListener("pointerup",this.onPointerUp)}onPointerMove(t){if(!this.isDragging||!this.activeThumb)return;const e=this.track.getBoundingClientRect();if(!e.width)return;const i=Math.max(0,Math.min(1,(t.clientX-e.left)/e.width)),n=this.min+i*(this.max-this.min);this.activeThumb==="min"?this.valueMin=Math.min(n,this.valueMax-1):this.valueMax=Math.max(n,this.valueMin+1),this.updateUI()}onPointerUp(){if(!this.isDragging)return;this.isDragging=!1;const t=this.activeThumb==="min"?this.thumbMin:this.thumbMax;delete t.dataset.active,this.activeThumb=null,document.removeEventListener("pointermove",this.onPointerMove),document.removeEventListener("pointerup",this.onPointerUp),this.updateHiddenInputs()}onKeyDown(t){const e=t.target.dataset.thumb,i=(this.max-this.min)/100;let n=e==="min"?this.valueMin:this.valueMax;switch(t.key){case"ArrowLeft":case"ArrowDown":n-=i;break;case"ArrowRight":case"ArrowUp":n+=i;break;default:return}t.preventDefault(),e==="min"?this.valueMin=Math.max(this.min,Math.min(n,this.valueMax-1)):this.valueMax=Math.min(this.max,Math.max(n,this.valueMin+1)),this.updateUI(),this.updateHiddenInputs()}updateUI(){const t=this.max-this.min;if(!t)return;const e=(this.valueMin-this.min)/t*100,i=(this.valueMax-this.min)/t*100;this.thumbMin.style.left=`${e}%`,this.thumbMax.style.left=`${i}%`,this.range&&(this.range.style.left=`${e}%`,this.range.style.right=`${100-i}%`),this.displayMin&&(this.displayMin.textContent=`${this.currency}${this.formatPrice(this.valueMin/100)}`),this.displayMax&&(this.displayMax.textContent=`${this.currency}${this.formatPrice(this.valueMax/100)}`),this.thumbMin.setAttribute("aria-valuenow",Math.round(this.valueMin/100)),this.thumbMin.setAttribute("aria-valuetext",`${this.currency}${this.formatPrice(this.valueMin/100)}`),this.thumbMax.setAttribute("aria-valuenow",Math.round(this.valueMax/100)),this.thumbMax.setAttribute("aria-valuetext",`${this.currency}${this.formatPrice(this.valueMax/100)}`)}formatPrice(t){return Math.round(t).toString()}updateHiddenInputs(){const t=(this.valueMin/100).toFixed(2),e=(this.valueMax/100).toFixed(2);this.valueMin>this.min?this.hiddenMin.value=t:this.hiddenMin.value="",this.valueMax<this.max?this.hiddenMax.value=e:this.hiddenMax.value="",this.hiddenMin.dispatchEvent(new Event("input",{bubbles:!0}))}}customElements.get("price-range")||customElements.define("price-range",Gt);m.registerPlugin(S,B,_);window.gsap=m;window.Flip=B;window.SplitText=_;window.Lenis=V;function Yt(){if(typeof window.shouldAnimate=="function"&&!window.shouldAnimate())return;document.querySelectorAll("[data-subtitle-line], [data-subtitle-text], [data-shuffle-text], [data-text-reveal-label], [data-text-reveal-subtext], [data-text-reveal-cta], .product-title-line > span").forEach(t=>{t.style.opacity||m.set(t,{opacity:1})})}function H(){Yt(),P.init()}function dt(){document.querySelectorAll(".image-reveal").forEach(r=>{r.complete&&r.naturalWidth>0?r.classList.add("is-loaded"):r.addEventListener("load",()=>r.classList.add("is-loaded"),{once:!0})})}function ut(){window._articleProgressCleanup&&(window._articleProgressCleanup(),window._articleProgressCleanup=null);const r=document.getElementById("article-progress"),t=document.getElementById("article-progress-bar"),e=document.querySelector("[data-article-wrapper]");if(!r||!t)return;if(!e||e.hasAttribute("data-hide-progress")){r.style.display="none",t.style.width="0%";return}r.style.display="block",t.style.width="0%";let i=!1;function n(){return window.pieces&&window.pieces.lenis&&window.pieces.lenis.lenis?window.pieces.lenis.lenis.scroll:window.scrollY}function s(){if(i)return;const d=n(),f=e.getBoundingClientRect(),h=d+f.top,p=e.offsetHeight,w=window.innerHeight,x=h,b=h+p-w,$=d;let R=0;$>=x&&$<=b?R=($-x)/(b-x)*100:$>b&&(R=100),t.style.width=`${Math.min(100,Math.max(0,R))}%`}let o=null;function a(){if(window.pieces&&window.pieces.lenis&&window.pieces.lenis.lenis){const d=window.pieces.lenis.lenis;return o=()=>s(),d.on("scroll",o),!0}return!1}if(!a()){let h=function(){if(!i){if(a()){s();return}d++,d<f&&setTimeout(h,100)}},d=0;const f=50;h()}let c=!1;function l(){c||(requestAnimationFrame(()=>{s(),c=!1}),c=!0)}window.addEventListener("scroll",l,{passive:!0}),s();function u(){i=!0,window.removeEventListener("scroll",l),o&&window.pieces&&window.pieces.lenis&&window.pieces.lenis.lenis&&window.pieces.lenis.lenis.off("scroll",o),r&&(r.style.display="none"),t&&(t.style.width="0%")}window._articleProgressCleanup=u}function Qt(){const r=()=>{requestAnimationFrame(()=>{typeof window.shouldAnimate=="function"&&window.shouldAnimate()&&(P.reinit(),H(),S.refresh()),M.reinit(),z.reinit(),dt()})};document.fonts&&document.fonts.ready?document.fonts.ready.then(r):r()}function Xt(){setTimeout(()=>{ut()},100)}function Jt(){document.addEventListener("menu:open",()=>{T.stop()}),document.addEventListener("menu:close",()=>{T.start()})}function it(){const r=window.matchMedia("(prefers-reduced-motion: reduce)").matches,t=window.themeSettings?.enableSmoothScroll!==!1;!r&&t&&T.init();const e=window.themeSettings?.enablePageTransitions!==!1;!r&&e&&(N.init(),window.addEventListener("swup:contentReplaced",Qt),window.addEventListener("swup:transitionEnd",Xt));const i=window.themeSettings?.enableAnimations!==!1;!r&&i&&(document.fonts&&document.fonts.ready?document.fonts.ready.then(()=>{requestAnimationFrame(()=>{H(),S.refresh()})}):requestAnimationFrame(()=>{H()})),requestAnimationFrame(()=>{ut()}),dt(),Jt(),g.init(),g.subscribe(n=>{n&&document.querySelectorAll("[data-cart-count]").forEach(s=>{s.textContent=n.item_count,s.classList.toggle("hidden",n.item_count===0)})}),M.init(),z.init(),document.addEventListener("cart:updated",()=>{N.clearCache("/cart")}),document.addEventListener("cart:refresh",()=>{g.fetch()}),document.addEventListener("click",n=>{const s=n.target.closest('a[href^="#"]');if(s&&s.getAttribute("href").length>1){n.preventDefault();const o=document.querySelector(s.getAttribute("href"));o&&T.scrollTo(o,{offset:-100})}}),window.pieces={lenis:T,swup:N,tween:P,cartState:g,cartDrawer:M,cartPage:z,lightbox:Vt,gsap:m,ScrollTrigger:S,Flip:B,SplitText:_,Lenis:V},window.openCartDrawer=()=>M.open(),window.closeCartDrawer=()=>M.close(),window.refreshCartDrawer=()=>M.refresh()}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",it):it();window.Shopify&&window.Shopify.designMode&&(document.addEventListener("shopify:section:load",()=>{typeof window.shouldAnimate=="function"&&window.shouldAnimate()&&(P.reinit(),H())}),document.addEventListener("shopify:section:unload",()=>{P.destroy()}),document.addEventListener("shopify:section:reorder",()=>{typeof window.shouldAnimate=="function"&&window.shouldAnimate()&&P.refresh()}));
