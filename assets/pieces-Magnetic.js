import{P as d}from"./pieces-Piece.js";import{g as t}from"./pieces-app.js";class m extends d{constructor(){super("Magnetic",{stylesheets:[]}),this.strength=.3,this.ease=.1}mount(){this.strength=parseFloat(this.dataset.strength)||.3,this.ease=parseFloat(this.dataset.ease)||.1,this.$inner=this.$("[data-magnetic-inner]")[0]||this.firstElementChild||this,this.on("mouseenter",this,this.handleMouseEnter),this.on("mousemove",this,this.handleMouseMove),this.on("mouseleave",this,this.handleMouseLeave)}unmount(){this.off("mouseenter",this,this.handleMouseEnter),this.off("mousemove",this,this.handleMouseMove),this.off("mouseleave",this,this.handleMouseLeave),t.set([this,this.$inner],{x:0,y:0})}handleMouseEnter(){this.rect=this.getBoundingClientRect()}handleMouseMove(i){if(!this.rect)return;const{clientX:n,clientY:h}=i,{left:o,top:a,width:r,height:u}=this.rect,l=o+r/2,c=a+u/2,e=n-l,s=h-c;t.to(this,{x:e*this.strength,y:s*this.strength,duration:.3,ease:"power2.out"}),this.$inner&&this.$inner!==this&&t.to(this.$inner,{x:e*this.strength*.5,y:s*this.strength*.5,duration:.3,ease:"power2.out"})}handleMouseLeave(){t.to(this,{x:0,y:0,duration:.5,ease:"elastic.out(1, 0.5)"}),this.$inner&&this.$inner!==this&&t.to(this.$inner,{x:0,y:0,duration:.5,ease:"elastic.out(1, 0.5)"}),this.rect=null}}customElements.define("c-magnetic",m);export{m as default};
//# sourceMappingURL=pieces-Magnetic.js.map
