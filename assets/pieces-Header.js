import{P as i}from"./pieces-Piece.js";import{g as s}from"./pieces-app.js";class t extends i{constructor(){super("Header",{stylesheets:[]}),this.isScrolled=!1,this.lastScrollY=0,this.scrollThreshold=100,this.hideOnScroll=!1}mount(){this.$header=this,this.$menuToggle=this.$("[data-menu-toggle]")[0],this.$menuDrawer=this.$("[data-menu-drawer]")[0],this.$menuOverlay=this.$("[data-menu-overlay]")[0],this.$menuToggle&&this.on("click",this.$menuToggle,this.toggleMenu),this.$menuOverlay&&this.on("click",this.$menuOverlay,this.closeMenu),this.on("scroll",window,this.handleScroll),this.on("keydown",document,this.handleKeydown),this.handleScroll(),this.animateIn()}unmount(){this.off("scroll",window,this.handleScroll),this.off("keydown",document,this.handleKeydown),this.$menuToggle&&this.off("click",this.$menuToggle,this.toggleMenu),this.$menuOverlay&&this.off("click",this.$menuOverlay,this.closeMenu)}animateIn(){s.from(this.$header,{y:-100,opacity:0,duration:.8,delay:.2,ease:"power2.out"})}handleScroll(){const e=window.scrollY;e>this.scrollThreshold&&!this.isScrolled?(this.isScrolled=!0,this.$header.classList.add("is-scrolled")):e<=this.scrollThreshold&&this.isScrolled&&(this.isScrolled=!1,this.$header.classList.remove("is-scrolled")),this.hideOnScroll&&(e>this.lastScrollY&&e>this.scrollThreshold?this.$header.classList.add("is-hidden"):this.$header.classList.remove("is-hidden")),this.lastScrollY=e}toggleMenu(){this.$header.classList.contains("menu-open")?this.closeMenu():this.openMenu()}openMenu(){this.$header.classList.add("menu-open"),document.body.classList.add("overflow-hidden"),this.$menuDrawer&&s.fromTo(this.$menuDrawer,{x:"100%"},{x:"0%",duration:.5,ease:"power2.out"}),this.$menuOverlay&&s.fromTo(this.$menuOverlay,{opacity:0},{opacity:1,duration:.3}),this.emit("menu:open",document,{})}closeMenu(){this.$menuDrawer&&s.to(this.$menuDrawer,{x:"100%",duration:.4,ease:"power2.in",onComplete:()=>{this.$header.classList.remove("menu-open"),document.body.classList.remove("overflow-hidden")}}),this.$menuOverlay&&s.to(this.$menuOverlay,{opacity:0,duration:.3}),this.emit("menu:close",document,{})}handleKeydown(e){e.key==="Escape"&&this.$header.classList.contains("menu-open")&&this.closeMenu()}reset(){this.closeMenu(),this.isScrolled=!1,this.lastScrollY=0}}customElements.define("c-header",t);export{t as default};
//# sourceMappingURL=pieces-Header.js.map
