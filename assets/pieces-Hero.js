import{P as r}from"./pieces-Piece.js";import{g as a}from"./pieces-app.js";class h extends r{constructor(){super("Hero",{stylesheets:[]})}mount(t){this.$title=this.$("[data-hero-title]")[0],this.$subtitle=this.$("[data-hero-subtitle]")[0],this.$cta=this.$("[data-hero-cta]")[0],this.$image=this.$("[data-hero-image]")[0],this.$video=this.$("[data-hero-video]")[0],t&&this.animateIn(),this.initParallax(),this.$video&&this.initVideo()}unmount(){this.timeline&&this.timeline.kill()}animateIn(){this.timeline=a.timeline({defaults:{ease:"power2.out"}}),this.$image&&this.timeline.from(this.$image,{scale:1.15,opacity:0,duration:1.4}),this.$title&&(this.$title.hasAttribute("data-split-text")?this.animateSplitText(this.$title):this.timeline.from(this.$title,{y:80,opacity:0,duration:1},"-=0.9")),this.$subtitle&&this.timeline.from(this.$subtitle,{y:40,opacity:0,duration:.8},"-=0.6"),this.$cta&&this.timeline.from(this.$cta,{y:20,opacity:0,duration:.6},"-=0.4")}animateSplitText(t){const i=t.textContent.split("");t.innerHTML=i.map(s=>s===" "?'<span class="char">&nbsp;</span>':`<span class="char">${s}</span>`).join("");const o=t.querySelectorAll(".char");this.timeline.from(o,{y:"100%",opacity:0,duration:.6,stagger:.02,ease:"power2.out"},"-=0.8")}initParallax(){if(this.$image&&this.hasAttribute("data-parallax")){const t=parseFloat(this.dataset.parallax)||.3;a.to(this.$image,{y:()=>window.innerHeight*t,ease:"none",scrollTrigger:{trigger:this,start:"top top",end:"bottom top",scrub:!0}})}}initVideo(){new IntersectionObserver(e=>{e.forEach(i=>{i.isIntersecting?this.$video.play():this.$video.pause()})},{threshold:.25}).observe(this)}}customElements.define("c-hero",h);export{h as default};
//# sourceMappingURL=pieces-Hero.js.map
